"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[4277,5083,4706,5164,8624,5952,6419],{45083:(e,l,a)=>{a.r(l),a.d(l,{default:()=>d});var s=a(53799),r=a(51588),i=a(31574),n=a(96243),t=a(68179);const d=({visible:e,siteUrl:l=""})=>{const{t:a}=(0,r.B)("translation",{keyPrefix:"install"});return e?(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{children:a("ready_title")}),(0,t.jsx)("p",{children:(0,t.jsxs)(i.x,{i18nKey:"install.ready_description",children:["If you ever feel like changing more settings, visit",(0,t.jsx)("a",{href:`${l}/users/login`,children:" admin section"}),"; find it in the site menu."]})}),(0,t.jsx)("p",{children:a("good_luck")}),(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsx)(n.default,{step:5}),(0,t.jsx)(s.A,{href:l,children:a("done")})]})]}):null}},54706:(e,l,a)=>{a.r(l),a.d(l,{default:()=>c});var s=a(28915),r=a(46261),i=a(53799),n=a(51588),t=a(96243),d=a(48058),o=a(68179);const c=({visible:e,data:l,changeCallback:a,nextCallback:c})=>{const{t:u}=(0,n.B)("translation",{keyPrefix:"install"}),[v,m]=(0,s.useState)();return(0,s.useEffect)((()=>{(async()=>{const e=await(0,d.KO)();m(e),a({lang:{value:e[0].value,isInvalid:!1,errorMsg:""}})})()}),[]),e?(0,o.jsxs)(r.A,{noValidate:!0,onSubmit:()=>{c()},children:[(0,o.jsxs)(r.A.Group,{controlId:"lang",className:"mb-3",children:[(0,o.jsx)(r.A.Label,{children:u("lang.label")}),(0,o.jsx)(r.A.Select,{value:l.value,isInvalid:l.isInvalid,onChange:e=>{a({lang:{value:e.target.value,isInvalid:!1,errorMsg:""}})},children:null===v||void 0===v?void 0:v.map((e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,o.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,o.jsx)(t.default,{step:1}),(0,o.jsx)(i.A,{type:"submit",children:u("next")})]})]}):null}},75164:(e,l,a)=>{a.r(l),a.d(l,{default:()=>o});var s=a(46261),r=a(53799),i=a(51588),n=a(97251),t=a(96243),d=a(68179);const o=({visible:e,data:l,changeCallback:a,nextCallback:o})=>{const{t:c}=(0,i.B)("translation",{keyPrefix:"install"});return e?(0,d.jsxs)(s.A,{noValidate:!0,onSubmit:e=>{e.preventDefault(),e.stopPropagation(),(()=>{let e=!0;const{site_name:s,site_url:r,contact_email:i,name:t,password:d,email:o}=l;return s.value||(e=!1,l.site_name={value:"",isInvalid:!0,errorMsg:c("site_name.msg")}),s.value&&s.value.length>30&&(e=!1,l.site_url={value:s.value,isInvalid:!0,errorMsg:c("site_name.msg_max_length")}),r.value||(e=!1,l.site_url={value:"",isInvalid:!0,errorMsg:c("site_name.msg.empty")}),r.value&&!r.value.match(/^(http|https):\/\//g)?(e=!1,l.site_url={value:r.value,isInvalid:!0,errorMsg:c("site_url.msg.incorrect")}):r.value.length>512&&(e=!1,l.site_url={value:r.value,isInvalid:!0,errorMsg:c("site_url.msg.max_length")}),i.value||(e=!1,l.contact_email={value:"",isInvalid:!0,errorMsg:c("contact_email.msg.empty")}),i.value&&!n.A.email.test(i.value)&&(e=!1,l.contact_email={value:i.value,isInvalid:!0,errorMsg:c("contact_email.msg.incorrect")}),t.value?/[^a-z0-9\-._]/.test(t.value)?(e=!1,l.name={value:t.value,isInvalid:!0,errorMsg:c("admin_name.character")}):l.name.value.length>30&&(e=!1,l.name={value:l.name.value,isInvalid:!0,errorMsg:c("admin_name.msg_max_length")}):(e=!1,l.name={value:"",isInvalid:!0,errorMsg:c("admin_name.msg")}),d.value||(e=!1,l.password={value:"",isInvalid:!0,errorMsg:c("admin_password.msg")}),d.value&&d.value.length<4&&(e=!1,l.password={value:l.password.value,isInvalid:!0,errorMsg:c("admin_password.msg_min_length")}),d.value&&d.value.length>32&&(e=!1,l.password={value:l.password.value,isInvalid:!0,errorMsg:c("admin_password.msg_max_length")}),o.value||(e=!1,l.email={value:"",isInvalid:!0,errorMsg:c("admin_email.msg.empty")}),o.value&&!n.A.email.test(o.value)&&(e=!1,l.email={value:o.value,isInvalid:!0,errorMsg:c("admin_email.msg.incorrect")}),a({...l}),e})()&&o()},children:[(0,d.jsx)("h5",{children:c("site_information")}),(0,d.jsxs)(s.A.Group,{controlId:"site_name",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("site_name.label")}),(0,d.jsx)(s.A.Control,{required:!0,value:l.site_name.value,isInvalid:l.site_name.isInvalid,onChange:e=>{a({site_name:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.site_name.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"site_url",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("site_url.label")}),(0,d.jsx)(s.A.Control,{required:!0,value:l.site_url.value,isInvalid:l.site_url.isInvalid,onChange:e=>{a({site_url:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:c("site_url.text")}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.site_url.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"contact_email",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("contact_email.label")}),(0,d.jsx)(s.A.Control,{required:!0,type:"email",value:l.contact_email.value,isInvalid:l.contact_email.isInvalid,onChange:e=>{a({contact_email:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:c("contact_email.text")}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.contact_email.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"login_required",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("login_required.label")}),(0,d.jsx)(s.A.Check,{type:"switch",id:"login_required",label:c("login_required.switch"),checked:l.login_required.value,onChange:e=>{a({login_required:{value:e.target.checked,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:c("login_required.text")})]}),(0,d.jsx)("h5",{children:c("admin_account")}),(0,d.jsxs)(s.A.Group,{controlId:"name",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("admin_name.label")}),(0,d.jsx)(s.A.Control,{required:!0,value:l.name.value,isInvalid:l.name.isInvalid,onChange:e=>{a({name:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.name.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"password",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("admin_password.label")}),(0,d.jsx)(s.A.Control,{required:!0,type:"password",value:l.password.value,isInvalid:l.password.isInvalid,onChange:e=>{a({password:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:c("admin_password.text")}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.password.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"email",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:c("admin_email.label")}),(0,d.jsx)(s.A.Control,{required:!0,value:l.email.value,isInvalid:l.email.isInvalid,onChange:e=>{a({email:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:c("admin_email.text")}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.email.errorMsg})]}),(0,d.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,d.jsx)(t.default,{step:4}),(0,d.jsx)(r.A,{type:"submit",children:c("next")})]})]}):null}},96243:(e,l,a)=>{a.r(l),a.d(l,{default:()=>t});var s=a(28915),r=a(77919),i=a(68179);const n=({step:e})=>(0,i.jsxs)("div",{className:"d-flex align-items-center small text-secondary",children:[(0,i.jsx)(r.A,{now:e/5*100,variant:"success",style:{width:"200px"},className:"me-2"}),(0,i.jsxs)("span",{children:[e,"/5"]})]}),t=(0,s.memo)(n)},5952:(e,l,a)=>{a.r(l),a.d(l,{default:()=>o});var s=a(46261),r=a(53799),i=a(51588),n=a(96243),t=a(68179);const d=[{value:"mysql",label:"MariaDB/MySQL"},{value:"sqlite3",label:"SQLite"},{value:"postgres",label:"PostgreSQL"}],o=({visible:e,data:l,changeCallback:a,nextCallback:o})=>{const{t:c}=(0,i.B)("translation",{keyPrefix:"install"});return e?(0,t.jsxs)(s.A,{noValidate:!0,onSubmit:e=>{e.preventDefault(),e.stopPropagation(),(()=>{let e=!0;const{db_type:s,db_username:r,db_password:i,db_host:n,db_name:t,db_file:d}=l;return"sqlite3"!==s.value?(r.value||(e=!1,l.db_username={value:"",isInvalid:!0,errorMsg:c("db_username.msg")}),i.value||(e=!1,l.db_password={value:"",isInvalid:!0,errorMsg:c("db_password.msg")}),n.value||(e=!1,l.db_host={value:"",isInvalid:!0,errorMsg:c("db_host.msg")}),t.value||(e=!1,l.db_name={value:"",isInvalid:!0,errorMsg:c("db_name.msg")})):d.value||(e=!1,l.db_file={value:"",isInvalid:!0,errorMsg:c("db_file.msg")}),a({...l}),e})()&&o()},children:[(0,t.jsxs)(s.A.Group,{controlId:"database_engine",className:"mb-3",children:[(0,t.jsx)(s.A.Label,{children:c("db_type.label")}),(0,t.jsx)(s.A.Select,{value:l.db_type.value,isInvalid:l.db_type.isInvalid,onChange:e=>{a({db_type:{value:e.target.value,isInvalid:!1,errorMsg:""}})},children:d.map((e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),"sqlite3"!==l.db_type.value?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.A.Group,{controlId:"username",className:"mb-3",children:[(0,t.jsx)(s.A.Label,{children:c("db_username.label")}),(0,t.jsx)(s.A.Control,{required:!0,placeholder:c("db_username.placeholder"),value:l.db_username.value,isInvalid:l.db_username.isInvalid,onChange:e=>{a({db_username:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,t.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.db_username.errorMsg})]}),(0,t.jsxs)(s.A.Group,{controlId:"db_password",className:"mb-3",children:[(0,t.jsx)(s.A.Label,{children:c("db_password.label")}),(0,t.jsx)(s.A.Control,{required:!0,value:l.db_password.value,isInvalid:l.db_password.isInvalid,onChange:e=>{a({db_password:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,t.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.db_password.errorMsg})]}),(0,t.jsxs)(s.A.Group,{controlId:"db_host",className:"mb-3",children:[(0,t.jsx)(s.A.Label,{children:c("db_host.label")}),(0,t.jsx)(s.A.Control,{required:!0,placeholder:c("db_host.placeholder"),value:l.db_host.value,isInvalid:l.db_host.isInvalid,onChange:e=>{a({db_host:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,t.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.db_host.errorMsg})]}),(0,t.jsxs)(s.A.Group,{controlId:"name",className:"mb-3",children:[(0,t.jsx)(s.A.Label,{children:c("db_name.label")}),(0,t.jsx)(s.A.Control,{required:!0,placeholder:c("db_name.placeholder"),value:l.db_name.value,isInvalid:l.db_name.isInvalid,onChange:e=>{a({db_name:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,t.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.db_name.errorMsg})]})]}):(0,t.jsxs)(s.A.Group,{controlId:"file",className:"mb-3",children:[(0,t.jsx)(s.A.Label,{children:c("db_file.label")}),(0,t.jsx)(s.A.Control,{required:!0,placeholder:c("db_file.placeholder"),value:l.db_file.value,isInvalid:l.db_file.isInvalid,onChange:e=>{a({db_file:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,t.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.db_file.errorMsg})]}),(0,t.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,t.jsx)(n.default,{step:2}),(0,t.jsx)(r.A,{type:"submit",children:c("next")})]})]}):null}},66419:(e,l,a)=>{a.r(l),a.d(l,{default:()=>c});var s=a(81534),r=a(46261),i=a(53799),n=a(51588),t=a(31574),d=a(96243),o=a(68179);const c=({visible:e,errorMsg:l,nextCallback:a})=>{var c;const{t:u}=(0,n.B)("translation",{keyPrefix:"install"});return e?(0,o.jsxs)("div",{children:[(0,o.jsx)("h5",{children:u("config_yaml.title")}),(null===l||void 0===l||null===(c=l.msg)||void 0===c?void 0:c.length)>0?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"fmt",children:(0,o.jsx)("p",{children:(0,o.jsx)(t.x,{i18nKey:"install.config_yaml.desc",components:{1:(0,o.jsx)("code",{})}})})}),(0,o.jsx)(s.A,{className:"mb-3",children:(0,o.jsx)(r.A.Control,{type:"text",as:"textarea",rows:8,className:"small",value:null===l||void 0===l?void 0:l.default_config})}),(0,o.jsx)("div",{className:"mb-3",children:u("config_yaml.info")})]}):(0,o.jsx)("div",{className:"mb-3",children:u("config_yaml.label")}),(0,o.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,o.jsx)(d.default,{step:3}),(0,o.jsx)(i.A,{onClick:a,children:u("next")})]})]}):null}},24277:(e,l,a)=>{a.r(l),a.d(l,{Fifth:()=>t.default,FirstStep:()=>s.default,FourthStep:()=>n.default,SecondStep:()=>r.default,ThirdStep:()=>i.default});var s=a(54706),r=a(5952),i=a(66419),n=a(75164),t=a(45083)}}]);
//# sourceMappingURL=4277.9ddb6141.chunk.js.map