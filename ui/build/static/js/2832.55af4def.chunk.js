"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[2832,577],{577:(e,a,l)=>{l.r(a),l.d(a,{default:()=>p});var i=l(28915),t=l(46261),r=l(53799),s=l(51588),n=l(18596),c=l(24978),o=l(48058),d=l(4440),m=l(25831),u=l(68179);const v=()=>{const{t:e}=(0,s.B)("translation",{keyPrefix:"change_email"}),[a,l]=(0,i.useState)({e_mail:{value:"",isInvalid:!1,errorMsg:""}}),v=(0,n.Zp)(),{user:p,update:h}=(0,c.bb)(),_=(0,m.T5)("email"),g=e=>{e&&e.preventDefault();const i={e_mail:a.e_mail.value},t=null===_||void 0===_?void 0:_.getCaptcha();null!==t&&void 0!==t&&t.verify&&(i.captcha_code=t.captcha_code,i.captcha_id=t.captcha_id),(0,o.BZ)(i).then((async()=>{await(null===_||void 0===_?void 0:_.close()),p.e_mail=a.e_mail.value,h(p),v("/users/login",{replace:!0})})).catch((e=>{if(e.isError){null===_||void 0===_||_.handleCaptchaError(e.list);const i=(0,d.NC)(e,a);l({...i});const t=document.getElementById(e.list[0].error_field);(0,d.qt)(t)}}))};return(0,u.jsxs)(t.A,{noValidate:!0,onSubmit:async i=>{i.preventDefault(),i.stopPropagation(),(()=>{let i=!0;return a.e_mail.value||(i=!1,a.e_mail={value:"",isInvalid:!0,errorMsg:e("email.msg.empty")}),l({...a}),i})()&&(_?_.check((()=>{g()})):g())},autoComplete:"off",children:[(0,u.jsxs)(t.A.Group,{controlId:"email",className:"mb-3",children:[(0,u.jsx)(t.A.Label,{children:e("email.label")}),(0,u.jsx)(t.A.Control,{required:!0,type:"email",value:a.e_mail.value,isInvalid:a.e_mail.isInvalid,onChange:e=>{var i;i={e_mail:{value:e.target.value,isInvalid:!1,errorMsg:""}},l({...a,...i})}}),(0,u.jsx)(t.A.Control.Feedback,{type:"invalid",children:a.e_mail.errorMsg})]}),(0,u.jsxs)("div",{className:"d-grid mb-3",children:[(0,u.jsx)(r.A,{variant:"primary",type:"submit",children:e("btn_update")}),(0,u.jsx)(r.A,{variant:"link",className:"mt-2 d-block",onClick:()=>{v("/users/login?status=inactive",{replace:!0})},children:e("btn_cancel")})]})]})},p=(0,i.memo)(v)},32832:(e,a,l)=>{l.r(a),l.d(a,{default:()=>u});var i=l(28915),t=l(47760),r=l(98329),s=l(51588),n=l(47185),c=l(81801),o=l(577),d=l(68179);const m=()=>{const{t:e}=(0,s.B)("translation",{keyPrefix:"change_email"});return(0,n.M4)({title:e("change_email",{keyPrefix:"page_title"})}),(0,d.jsxs)(t.A,{style:{paddingTop:"4rem",paddingBottom:"6rem"},children:[(0,d.jsx)(c.vU,{}),(0,d.jsx)(r.A,{className:"mx-auto",md:6,lg:4,xl:3,children:(0,d.jsx)(o.default,{})})]})},u=(0,i.memo)(m)}}]);
//# sourceMappingURL=2832.55af4def.chunk.js.map