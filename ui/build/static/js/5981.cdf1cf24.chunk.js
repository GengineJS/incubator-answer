"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[5981],{75981:(e,n,t)=>{t.r(n),t.d(n,{default:()=>l});var s=t(99205),i=t(51588),a=t(81801),r=t(47185),c=t(48058),o=t(68179);const l=({showActionPassword:e,showActionStatus:n,showActionRole:t,currentUser:l,refreshUsers:d,showDeleteModal:u,userData:h})=>{const{t:x}=(0,i.B)("translation",{keyPrefix:"admin.users"}),m=(0,r.dj)(),k=(0,r.Qt)({callback:d}),f=(0,r.Ye)({onConfirm:e=>new Promise(((n,t)=>{(0,c.ej)(e).then((()=>{m.onShow({msg:x("update_password",{keyPrefix:"toast"}),variant:"success"}),n(!0)})).catch((e=>{t(e)}))}))}),v=(0,r.vx)(),w=e=>{(0,c.e8)({user_id:h.user_id,status:e}).then((()=>{null===d||void 0===d||d()}))},p=e=>{const{user_id:n,role_id:t,username:s}=h;s!==l.username?("role"===e&&k.onShow({id:n,role_id:t}),"password"===e&&f.onShow(n),"activation"===e&&v.onShow(n),"deactivate"===e&&a.aF.confirm({title:x("deactivate_user.title"),content:x("deactivate_user.content"),cancelBtnVariant:"link",confirmBtnVariant:"danger",cancelText:x("cancel",{keyPrefix:"btns"}),confirmText:x("deactivate",{keyPrefix:"btns"}),onConfirm:()=>{w("inactive")}}),"suspend"===e&&a.aF.confirm({title:x("suspend_user.title"),content:x("suspend_user.content"),cancelBtnVariant:"link",cancelText:x("cancel",{keyPrefix:"btns"}),confirmBtnVariant:"danger",confirmText:x("suspend",{keyPrefix:"btns"}),onConfirm:()=>{w("suspended")}}),"active"!==e&&"unsuspend"!==e||w("normal"),"delete"===e&&u({show:!0,userId:h.user_id})):m.onShow({msg:x("forbidden_operate_self",{keyPrefix:"toast"}),variant:"warning"})};return(0,o.jsx)("td",{className:"text-end",children:(0,o.jsxs)(s.A,{children:[(0,o.jsx)(s.A.Toggle,{variant:"link",className:"no-toggle p-0",children:(0,o.jsx)(a.In,{name:"three-dots-vertical",title:x("action")})}),(0,o.jsxs)(s.A.Menu,{children:[e?(0,o.jsx)(s.A.Item,{onClick:()=>p("password"),children:x("set_new_password")}):null,t?(0,o.jsx)(s.A.Item,{onClick:()=>p("role"),children:x("change_role")}):null,"inactive"===h.status?(0,o.jsx)(s.A.Item,{onClick:()=>p("activation"),children:x("btn_name",{keyPrefix:"inactive"})}):null,n&&"deleted"!==h.status?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.A.Divider,{}),"inactive"===h.status&&(0,o.jsx)(s.A.Item,{onClick:()=>p("active"),children:x("active",{keyPrefix:"btns"})}),"normal"===h.status&&(0,o.jsx)(s.A.Item,{onClick:()=>p("deactivate"),children:x("deactivate",{keyPrefix:"btns"})}),"normal"===h.status&&(0,o.jsx)(s.A.Item,{onClick:()=>p("suspend"),children:x("suspend",{keyPrefix:"btns"})}),"suspended"===h.status&&(0,o.jsx)(s.A.Item,{onClick:()=>p("unsuspend"),children:x("unsuspend",{keyPrefix:"btns"})}),(0,o.jsx)(s.A.Item,{onClick:()=>p("delete"),children:x("delete",{keyPrefix:"btns"})})]}):null]})]})})}}}]);
//# sourceMappingURL=5981.cdf1cf24.chunk.js.map