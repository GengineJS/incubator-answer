{"version":3,"file":"static/js/2953.54e60cf8.chunk.js","mappings":"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","sources":["pages/Questions/Detail/components/Alert/index.tsx","pages/Questions/Detail/components/Answer/index.tsx","pages/Questions/Detail/components/AnswerHead/index.tsx","pages/Questions/Detail/components/ContentLoader/index.tsx","pages/Questions/Detail/components/InviteToAnswer/PeopleDropdown.tsx","pages/Questions/Detail/components/InviteToAnswer/index.tsx","pages/Questions/Detail/components/Question/index.tsx","pages/Questions/Detail/components/RelatedQuestions/index.tsx","pages/Questions/Detail/components/WriteAnswer/index.tsx","webpack://answer-static/./src/pages/Questions/Detail/components/InviteToAnswer/PeopleDropdown.scss?767d","webpack://answer-static/./src/pages/Questions/Detail/components/InviteToAnswer/index.scss?ec82"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC } from 'react';\nimport { Alert } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\n\nimport dayjs from 'dayjs';\n\ninterface Props {\n  data;\n}\nconst Index: FC<Props> = ({ data }) => {\n  const { t } = useTranslation();\n  return (\n    <Alert className=\"mb-4\" variant={data.level}>\n      {data.level === 'info' ? (\n        <div>\n          {data.msg.startsWith('http') ? (\n            <p>\n              {data.description}{' '}\n              <a href={data.msg} className=\"alert-exist\">\n                <strong>{t('question_detail.show_exist')}</strong>\n              </a>\n            </p>\n          ) : (\n            <p>{data.msg ? data.msg : data.description}</p>\n          )}\n          <div className=\"small\">\n            {t('question_detail.closed_in')}{' '}\n            <time\n              dateTime={dayjs.unix(data.time).tz().toISOString()}\n              title={dayjs\n                .unix(data.time)\n                .tz()\n                .format(t('dates.long_date_with_time'))}>\n              {dayjs\n                .unix(data.time)\n                .tz()\n                .format(t('dates.long_date_with_year'))}\n            </time>\n            .\n          </div>\n        </div>\n      ) : (\n        data.msg\n      )}\n    </Alert>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC, useEffect, useRef } from 'react';\nimport { Button, Alert, Badge } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { Link, useSearchParams } from 'react-router-dom';\n\nimport {\n  Actions,\n  Operate,\n  UserCard,\n  Icon,\n  Comment,\n  FormatTime,\n  htmlRender,\n  ImgViewer,\n  Modal,\n} from '@/components';\nimport { scrollToElementTop, bgFadeOut } from '@/utils';\nimport { AnswerItem } from '@/common/interface';\nimport { acceptanceAnswer } from '@/services';\nimport { useRenderHtmlPlugin } from '@/utils/pluginKit';\nimport { PayContentType } from '@/common/constants';\nimport { getUrlQuestionType } from '@/common/functions';\n\ninterface Props {\n  data: AnswerItem;\n  /** router answer id */\n  aid?: string;\n  acceptedId?: string;\n  canAccept: boolean;\n  score?: number;\n  questionTitle: string;\n  isLogged: boolean;\n  callback: (type: string) => void;\n}\nconst Index: FC<Props> = ({\n  aid,\n  data,\n  acceptedId,\n  isLogged,\n  score = 0,\n  questionTitle = '',\n  callback,\n  canAccept = false,\n}) => {\n  const contentType = getUrlQuestionType();\n  const isPayType = PayContentType.indexOf(contentType) !== -1;\n  const isScoreContent = score && isPayType;\n  const hasAccepted = acceptedId !== '0' && isScoreContent;\n  if (hasAccepted) {\n    canAccept = data.accepted === 2;\n  }\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'question_detail',\n  });\n\n  const [searchParams] = useSearchParams();\n  const answerRef = useRef<HTMLDivElement>(null);\n  useRenderHtmlPlugin(answerRef.current);\n  const isAccepted = data?.accepted === 2;\n  const acceptAnswer = () => {\n    if (isScoreContent) {\n      Modal.confirm({\n        title: t('accept_title'),\n        content: isAccepted ? t('not_accept') : t('warn_accept'),\n        cancelBtnVariant: 'link',\n        confirmBtnVariant: 'danger',\n        confirmText: isAccepted ? t('ok') : t('accept'),\n        onConfirm: () => {\n          if (isAccepted) return;\n          acceptanceAnswer({\n            question_id: data.question_id,\n            answer_id: data.accepted === 2 ? '0' : data.id,\n            score: isScoreContent ? score : 0,\n          }).then(() => {\n            callback?.('');\n          });\n        },\n      });\n      return;\n    }\n    acceptanceAnswer({\n      question_id: data.question_id,\n      answer_id: data.accepted === 2 ? '0' : data.id,\n    }).then(() => {\n      callback?.('');\n    });\n  };\n\n  useEffect(() => {\n    if (!answerRef?.current) {\n      return;\n    }\n\n    htmlRender(answerRef.current.querySelector('.fmt'));\n\n    if (aid === data.id) {\n      setTimeout(() => {\n        const element = answerRef.current;\n        scrollToElementTop(element);\n        if (!searchParams.get('commentId')) {\n          bgFadeOut(answerRef.current);\n        }\n      }, 100);\n    }\n  }, [data.id, answerRef.current]);\n\n  if (!data?.id) {\n    return null;\n  }\n\n  return (\n    <div id={data.id} ref={answerRef} className=\"answer-item py-4\">\n      {data.status === 10 && (\n        <Alert variant=\"danger\" className=\"mb-4\">\n          {t('post_deleted', { keyPrefix: 'messages' })}\n        </Alert>\n      )}\n      {data.status === 11 && (\n        <Alert variant=\"secondary\" className=\"mb-4\">\n          {t('post_pending', { keyPrefix: 'messages' })}\n        </Alert>\n      )}\n\n      {isAccepted && (\n        <div className=\"mb-3 lh-1\">\n          <Badge bg=\"success\" pill>\n            <Icon name=\"check-circle-fill me-1\" />\n            {t('best_answer')}\n          </Badge>\n        </div>\n      )}\n      <ImgViewer>\n        <article\n          className=\"fmt text-break text-wrap\"\n          dangerouslySetInnerHTML={{ __html: data?.html }}\n        />\n        {data.is_ai && (\n          <div className=\"fmt fs-7 small text-secondary text-break text-wrap\">\n            ({t('ai_commented')})\n          </div>\n        )}\n      </ImgViewer>\n      <div className=\"d-flex align-items-center mt-4\">\n        <Actions\n          source=\"answer\"\n          data={{\n            id: data?.id,\n            isHate: data?.vote_status === 'vote_down',\n            isLike: data?.vote_status === 'vote_up',\n            votesCount: data?.vote_count,\n            hideCollect: true,\n            collected: data?.collected,\n            collectCount: 0,\n            username: data?.user_info?.username,\n          }}\n        />\n\n        {canAccept && (\n          <Button\n            variant={data.accepted === 2 ? 'success' : 'outline-success'}\n            className=\"ms-3\"\n            onClick={acceptAnswer}>\n            <Icon name=\"check-circle-fill\" className=\"me-2\" />\n            <span>\n              {data.accepted === 2\n                ? t('answers.btn_accepted')\n                : t('answers.btn_accept')}\n            </span>\n          </Button>\n        )}\n      </div>\n\n      <div className=\"d-block d-md-flex flex-wrap mt-4 mb-3\">\n        <div className=\"mb-3 mb-md-0 me-4 flex-grow-1\">\n          <Operate\n            qid={data.question_id}\n            aid={data.id}\n            score={score}\n            memberActions={data?.member_actions}\n            type=\"answer\"\n            isAccepted={data.accepted === 2}\n            title={questionTitle}\n            callback={callback}\n          />\n        </div>\n        <div className=\"mb-3 mb-md-0 me-4\" style={{ minWidth: '196px' }}>\n          {data.update_user_info &&\n          data.update_user_info?.username !== data.user_info?.username ? (\n            <UserCard\n              data={data?.update_user_info}\n              time={Number(data.update_time)}\n              preFix={t('edit')}\n              isLogged={isLogged}\n              timelinePath={`/posts/${data.question_id}/${data.id}/timeline`}\n            />\n          ) : isLogged ? (\n            <Link to={`/posts/${data.question_id}/${data.id}/timeline`}>\n              <FormatTime\n                time={Number(data.update_time)}\n                preFix={t('edit')}\n                className=\"link-secondary small\"\n              />\n            </Link>\n          ) : (\n            <FormatTime\n              time={Number(data.update_time)}\n              preFix={t('edit')}\n              className=\"text-secondary small\"\n            />\n          )}\n        </div>\n        <div style={{ minWidth: '196px' }}>\n          <UserCard\n            data={data?.user_info}\n            time={Number(data.create_time)}\n            preFix={t('answered')}\n            isLogged={isLogged}\n            timelinePath={`/posts/${data.question_id}/${data.id}/timeline`}\n          />\n        </div>\n      </div>\n\n      <Comment\n        objectId={data.id}\n        isObjectAI={data.is_ai}\n        mode=\"answer\"\n        commentId={searchParams.get('commentId')}\n      />\n    </div>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { QueryGroup } from '@/components';\n\ninterface Props {\n  count: number;\n  order: string;\n}\n\nconst sortBtns = [\n  {\n    name: 'score',\n    sort: 'default',\n  },\n  {\n    name: 'newest',\n    sort: 'updated',\n  },\n  {\n    name: 'oldest',\n    sort: 'created',\n  },\n];\n\nconst Index: FC<Props> = ({ count = 0, order = 'default' }) => {\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'question_detail.answers',\n  });\n\n  return (\n    <div\n      className=\"d-flex align-items-center justify-content-between mt-5 mb-3\"\n      id=\"answerHeader\">\n      <h5 className=\"mb-0\">\n        {count} {t('title')}\n      </h5>\n      <QueryGroup\n        data={sortBtns}\n        currentSort={\n          order === 'updated'\n            ? 'newest'\n            : order === 'created'\n              ? 'oldest'\n              : 'score'\n        }\n        i18nKeyPrefix=\"question_detail.answers\"\n      />\n    </div>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC, memo } from 'react';\n\nconst Index: FC = () => {\n  return (\n    <div className=\"placeholder-glow\">\n      <div className=\"placeholder w-100 h1 mb-3\" style={{ height: '34px' }} />\n\n      <div className=\"placeholder w-75 mb-3\" style={{ height: '21px' }} />\n\n      <div\n        className=\"placeholder w-50 d-block align-top mb-4\"\n        style={{ height: '24px' }}\n      />\n\n      <div style={{ marginBottom: '2rem' }}>\n        <p>\n          <span\n            className=\"placeholder w-100 d-block align-top mb-1\"\n            style={{ height: '24px' }}\n          />\n          <span\n            className=\"placeholder w-100 d-block align-top mb-1\"\n            style={{ height: '24px' }}\n          />\n          <span\n            className=\"placeholder w-100 d-block align-top mb-1\"\n            style={{ height: '24px' }}\n          />\n\n          <span\n            className=\"placeholder w-100 d-block align-top mb-1\"\n            style={{ height: '24px' }}\n          />\n          <span\n            className=\"placeholder w-75 d-block align-top\"\n            style={{ height: '24px' }}\n          />\n        </p>\n\n        <p>\n          <span\n            className=\"placeholder w-100 d-block align-top mb-1\"\n            style={{ height: '24px' }}\n          />\n          <span\n            className=\"placeholder w-100 d-block align-top mb-1\"\n            style={{ height: '24px' }}\n          />\n          <span\n            className=\"placeholder w-100 d-block align-top mb-1\"\n            style={{ height: '24px' }}\n          />\n          <span\n            className=\"placeholder w-100 d-block align-top mb-1\"\n            style={{ height: '24px' }}\n          />\n          <span\n            className=\"placeholder w-50 d-block align-top\"\n            style={{ height: '24px' }}\n          />\n        </p>\n      </div>\n\n      <div className=\"d-flex\">\n        <div\n          className=\"placeholder align-top me-3 rounded\"\n          style={{ height: '38px', width: '120px' }}\n        />\n        <div\n          className=\"placeholder align-top rounded\"\n          style={{ height: '38px', width: '68px' }}\n        />\n      </div>\n\n      <div className=\"d-block d-md-flex flex-wrap mt-4 mb-3\">\n        <div\n          className=\"placeholder mb-3 mb-md-0 me-4\"\n          style={{ height: '21px', width: '40%' }}\n        />\n        <div\n          style={{ minWidth: '196px', height: '24px' }}\n          className=\"placeholder mb-3 me-4 mb-md-0 d-block d-md-none\"\n        />\n\n        <div\n          style={{ minWidth: '196px', height: '24px' }}\n          className=\"placeholder d-block d-md-none\"\n        />\n\n        <div\n          style={{ minWidth: '196px', height: '40px' }}\n          className=\"placeholder mb-3 me-4 mb-md-0 d-none d-md-block\"\n        />\n\n        <div\n          style={{ minWidth: '196px', height: '40px' }}\n          className=\"placeholder d-none d-md-block\"\n        />\n      </div>\n\n      {[0, 1, 2].map((item, i) => (\n        <div\n          className={`border-bottom py-2 ${i === 0 ? 'border-top' : ''}`}\n          key={item}>\n          <div className=\"placeholder w-100 mb-1\" style={{ height: '17px' }} />\n          <div className=\"placeholder w-50\" style={{ height: '17px' }} />\n        </div>\n      ))}\n\n      <div className=\"d-flex mt-2 mb-4\">\n        <div\n          className=\"placeholder align-top me-4\"\n          style={{ height: '21px', width: '140px' }}\n        />\n        <div\n          className=\"placeholder align-top\"\n          style={{ height: '21px', width: '140px' }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC, useEffect, useState } from 'react';\nimport { Dropdown, Form } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\n\nimport { loggedUserInfoStore } from '@/stores';\nimport { userSearchByName } from '@/services';\nimport { Avatar } from '@/components';\nimport * as Type from '@/common/interface';\nimport './PeopleDropdown.scss';\n\ninterface Props {\n  selectedPeople: Type.UserInfoBase[] | undefined;\n  onSelect: (people: Type.UserInfoBase) => void;\n  saveInviteUsers: () => void;\n  visible?: boolean;\n}\n\ninterface UserInfoCheck extends Type.UserInfoBase {\n  checked?: boolean;\n}\n\nconst Index: FC<Props> = ({\n  selectedPeople = [],\n  visible = false,\n  onSelect,\n  saveInviteUsers,\n}) => {\n  const { user: currentUser } = loggedUserInfoStore();\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'invite_to_answer',\n  });\n  const [peopleList, setPeopleList] = useState<UserInfoCheck[]>([]);\n  const [currentIndex, setCurrentIndex] = useState(-1);\n  const [searchValue, setSearchValue] = useState('');\n  const filterAndSetPeople = (source) => {\n    const filteredPeople: Type.UserInfoBase[] = [];\n    source.forEach((p) => {\n      if (\n        currentUser &&\n        currentUser.role_id === 1 &&\n        currentUser.username === p.username\n      ) {\n        return;\n      }\n      if (selectedPeople?.find((_) => _.username === p.username)) {\n        return;\n      }\n      filteredPeople.push(p);\n    });\n    setPeopleList([...selectedPeople, ...filteredPeople]);\n  };\n\n  const searchPeople = (s) => {\n    if (!s) {\n      setPeopleList([...selectedPeople]);\n      return;\n    }\n    userSearchByName(s).then((resp) => {\n      filterAndSetPeople(resp);\n    });\n  };\n  const handleSearch = (evt) => {\n    const s = evt.target.value;\n    setSearchValue(s);\n    searchPeople(s);\n  };\n\n  const resetSearch = () => {\n    setCurrentIndex(-1);\n    setSearchValue('');\n    setPeopleList([]);\n  };\n\n  const handleSelect = (idx) => {\n    if (idx < 0 || idx >= peopleList.length) {\n      return;\n    }\n    const people = peopleList[idx];\n    if (people) {\n      onSelect(people);\n    }\n  };\n\n  const handleKeyDown = (evt) => {\n    evt.stopPropagation();\n\n    if (!peopleList?.length) {\n      return;\n    }\n    const { keyCode } = evt;\n    if (keyCode === 38 && currentIndex > 0) {\n      setCurrentIndex(currentIndex - 1);\n    }\n    if (keyCode === 40 && currentIndex < peopleList.length - 1) {\n      setCurrentIndex(currentIndex + 1);\n    }\n\n    if (keyCode === 13 && currentIndex > -1) {\n      evt.preventDefault();\n      handleSelect(currentIndex);\n    }\n  };\n\n  useEffect(() => {\n    if (visible && selectedPeople.length > 0) {\n      setPeopleList(selectedPeople);\n    }\n    if (!visible) {\n      resetSearch();\n    }\n  }, [visible]);\n\n  return visible ? (\n    <Dropdown\n      autoClose=\"outside\"\n      show\n      className=\"people-dropdown\"\n      onSelect={handleSelect}\n      onKeyDown={handleKeyDown}\n      onToggle={(state) => {\n        if (!state) {\n          saveInviteUsers();\n        }\n      }}>\n      <Dropdown.Menu\n        renderOnMount\n        show\n        className=\"w-100 py-0 position-relative\">\n        <div className=\"p-3\">\n          <Form.Control\n            type=\"search\"\n            autoFocus\n            placeholder={t('search')}\n            value={searchValue}\n            onChange={handleSearch}\n          />\n        </div>\n        <div className={`${peopleList.length > 0 ? 'py-2 border-top' : ''}`}>\n          {peopleList.map((p, idx) => {\n            return (\n              <Dropdown.Item\n                key={p.username}\n                eventKey={idx}\n                onFocus={() => {\n                  setCurrentIndex(idx);\n                }}\n                active={idx === currentIndex}>\n                <Form.Check\n                  type=\"checkbox\"\n                  id={p.username}\n                  className=\"position-relative\">\n                  <Form.Check.Input\n                    type=\"checkbox\"\n                    tabIndex={-1}\n                    checked={Boolean(\n                      selectedPeople?.find((v) => v.id === p.id),\n                    )}\n                    onChange={() => {}}\n                  />\n                  <div className=\"check-cover\" />\n                  <Form.Check.Label className=\"d-flex align-items-center text-nowrap\">\n                    <Avatar\n                      avatar={p.avatar}\n                      size=\"24\"\n                      alt={p.display_name}\n                      className=\"rounded-1\"\n                    />\n                    <div className=\"d-flex flex-wrap text-truncate\">\n                      <span className=\"ms-2 text-truncate\">\n                        {p.display_name}\n                      </span>\n                      <small className=\"text-secondary text-truncate ms-2\">\n                        @{p.username}\n                      </small>\n                    </div>\n                  </Form.Check.Label>\n                </Form.Check>\n              </Dropdown.Item>\n            );\n          })}\n        </div>\n      </Dropdown.Menu>\n    </Dropdown>\n  ) : null;\n};\n\nexport default Index;\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC, useState, useEffect } from 'react';\nimport { Card, Button } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport classNames from 'classnames';\n\nimport { Avatar } from '@/components';\nimport { getInviteUser, putInviteUser } from '@/services';\nimport type * as Type from '@/common/interface';\nimport { useCaptchaPlugin } from '@/utils/pluginKit';\n\nimport PeopleDropdown from './PeopleDropdown';\n\nimport './index.scss';\n\ninterface Props {\n  questionId: string;\n  readOnly?: boolean;\n}\nconst Index: FC<Props> = ({ questionId, readOnly = false }) => {\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'invite_to_answer',\n  });\n\n  const [editing, setEditing] = useState(false);\n  const [users, setUsers] = useState<Type.UserInfoBase[]>([]);\n  const iaCaptcha = useCaptchaPlugin('invitation_answer');\n\n  const initInviteUsers = () => {\n    if (!questionId) {\n      return;\n    }\n    getInviteUser(questionId)\n      .then((resp) => {\n        setUsers(resp);\n      })\n      .catch(() => {\n        if (!users) {\n          setUsers([]);\n        }\n      });\n  };\n\n  const updateInviteUsers = (user: Type.UserInfoBase) => {\n    const userID = users?.find((_) => _.id === user.id);\n    let userList: any = [...(users || [])];\n    if (userID) {\n      userList = userList?.filter((_) => {\n        return _.id !== user.id;\n      });\n    } else {\n      userList.push(user);\n    }\n    setUsers(userList);\n  };\n\n  const submitInviteUser = () => {\n    const names = users.map((_) => {\n      return _.username;\n    });\n    const imgCode: Type.ImgCodeReq = {};\n    iaCaptcha?.resolveCaptchaReq(imgCode);\n    putInviteUser(questionId, names, imgCode)\n      .then(async () => {\n        await iaCaptcha?.close();\n        setEditing(false);\n      })\n      .catch((ex) => {\n        if (ex.isError) {\n          iaCaptcha?.handleCaptchaError(ex.list);\n        }\n      });\n  };\n\n  const saveInviteUsers = () => {\n    if (!users) {\n      return;\n    }\n\n    if (!iaCaptcha) {\n      submitInviteUser();\n      return;\n    }\n\n    iaCaptcha.check(() => submitInviteUser());\n  };\n\n  useEffect(() => {\n    initInviteUsers();\n  }, [questionId]);\n\n  const showEmpty = readOnly && users?.length === 0;\n\n  if (showEmpty) {\n    return null;\n  }\n\n  return (\n    <Card className=\"invite-answer-card position-relative border-0 mb-4\">\n      <Card.Header className=\"text-nowrap d-flex justify-content-between text-capitalize\">\n        {t('title')}\n        {!readOnly && (\n          <Button\n            onClick={() => setEditing(true)}\n            variant=\"link\"\n            className=\"p-0\">\n            {t('edit', { keyPrefix: 'btns' })}\n          </Button>\n        )}\n      </Card.Header>\n      <Card.Body className={classNames('position-relative')}>\n        <div className={classNames('d-flex align-items-center flex-wrap m-n1')}>\n          {users?.map((user) => {\n            return (\n              <Link\n                key={user.username}\n                to={`/users/${user.username}`}\n                className=\"mx-2 my-1 d-inline-flex flex-nowrap\">\n                <Avatar\n                  avatar={user.avatar}\n                  size=\"24\"\n                  alt={user.display_name}\n                  className=\"rounded-1\"\n                />\n                <small className=\"ms-2\">{user.display_name}</small>\n              </Link>\n            );\n          })}\n          {users?.length === 0 ? (\n            <div className=\"text-muted\">{t('desc')}</div>\n          ) : null}\n        </div>\n      </Card.Body>\n      {editing && (\n        <PeopleDropdown\n          visible={editing}\n          selectedPeople={users}\n          onSelect={updateInviteUsers}\n          saveInviteUsers={saveInviteUsers}\n        />\n      )}\n    </Card>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC, useState, useEffect, useRef } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Button, OverlayTrigger, Tooltip } from 'react-bootstrap';\n\nimport {\n  Tag,\n  Actions,\n  Operate,\n  UserCard,\n  Comment,\n  FormatTime,\n  htmlRender,\n  Icon,\n  ImgViewer,\n} from '@/components';\nimport { useRenderHtmlPlugin } from '@/utils/pluginKit';\nimport { formatCount, guard } from '@/utils';\nimport { following } from '@/services';\nimport {\n  getUrlQuestionType,\n  needQuestionToLoginOrUp,\n} from '@/common/functions';\nimport IntegralLink from '@/components/IntegralLink';\nimport { isModerator } from '@/common/constants';\nimport { loggedUserInfoStore } from '@/stores';\n\ninterface Props {\n  data: any;\n  hasAnswer: boolean;\n  isLogged: boolean;\n  initPage: (type: string) => void;\n}\n\nconst Index: FC<Props> = ({ data, initPage, hasAnswer, isLogged }) => {\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'question_detail',\n  });\n  const [searchParams] = useSearchParams();\n  // const navigate = useNavigate();\n  const [followed, setFollowed] = useState(data?.is_followed);\n  const ref = useRef<HTMLDivElement>(null);\n  const contentType = getUrlQuestionType();\n  useRenderHtmlPlugin(ref.current);\n  const userInfo = loggedUserInfoStore((state) => state.user);\n  const handleFollow = (e) => {\n    e.preventDefault();\n    if (!guard.tryNormalLogged(true)) {\n      return;\n    }\n    following({\n      object_id: data?.id,\n      is_cancel: followed,\n    }).then((res) => {\n      setFollowed(res.is_followed);\n    });\n  };\n\n  useEffect(() => {\n    if (data) {\n      setFollowed(data?.is_followed);\n    }\n  }, [data]);\n\n  useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n\n    htmlRender(ref.current);\n  }, [ref.current]);\n\n  if (!data?.id || data?.id === '0') {\n    return null;\n  }\n  needQuestionToLoginOrUp(data, userInfo);\n  return (\n    <div>\n      <h1 className=\"h3 mb-3 text-wrap text-break\">\n        {data?.pin === 2 && (\n          <Icon\n            name=\"pin-fill\"\n            className=\"me-1\"\n            title={t('pinned', { keyPrefix: 'btns' })}\n          />\n        )}\n        <div className=\"link-dark\">\n          {data.title}\n          <IntegralLink\n            score={data.score}\n            t={t}\n            contentType={contentType}\n            isPay={\n              isModerator(data, userInfo) ||\n              (!!userInfo.id && data.buyer_user_ids.indexOf(userInfo.id) !== -1)\n            }\n          />\n          {data.status === 2\n            ? ` [${t('closed', { keyPrefix: 'question' })}]`\n            : ''}\n        </div>\n      </h1>\n\n      <div className=\"d-flex flex-wrap align-items-center small mb-3 text-secondary\">\n        <FormatTime\n          time={data.create_time}\n          preFix={t('Asked')}\n          className=\"me-3\"\n        />\n\n        <FormatTime\n          time={data.update_time}\n          preFix={t('update')}\n          className=\"me-3\"\n        />\n        {data?.view_count > 0 && (\n          <div className=\"me-3\">\n            {t('Views')} {formatCount(data.view_count)}\n          </div>\n        )}\n        <OverlayTrigger\n          placement=\"bottom\"\n          overlay={<Tooltip id=\"followTooltip\">{t('follow_tip')}</Tooltip>}>\n          <Button\n            variant=\"link\"\n            size=\"sm\"\n            className=\"p-0 btn-no-border\"\n            onClick={(e) => handleFollow(e)}>\n            {t(followed ? 'Following' : 'Follow')}\n          </Button>\n        </OverlayTrigger>\n      </div>\n      <div className=\"m-n1\">\n        {data?.tags?.map((item: any) => {\n          return <Tag className=\"m-1\" key={item.slug_name} data={item} />;\n        })}\n      </div>\n      <ImgViewer>\n        <article\n          ref={ref}\n          className=\"fmt text-break text-wrap mt-4\"\n          dangerouslySetInnerHTML={{ __html: data?.html }}\n        />\n      </ImgViewer>\n\n      <Actions\n        className=\"mt-4\"\n        source=\"question\"\n        data={{\n          id: data?.id,\n          isHate: data?.vote_status === 'vote_down',\n          isLike: data?.vote_status === 'vote_up',\n          votesCount: data?.vote_count,\n          collected: data?.collected,\n          collectCount: data?.collection_count,\n          username: data.user_info?.username,\n        }}\n      />\n\n      <div className=\"d-block d-md-flex flex-wrap mt-4 mb-3\">\n        <div className=\"mb-3 mb-md-0 me-4 flex-grow-1\">\n          <Operate\n            qid={data?.id}\n            type=\"question\"\n            score={data.score}\n            memberActions={data?.member_actions}\n            title={data.title}\n            hasAnswer={hasAnswer}\n            isAccepted={Boolean(data?.accepted_answer_id !== '0')}\n            callback={initPage}\n          />\n        </div>\n        <div style={{ minWidth: '196px' }} className=\"mb-3 me-4 mb-md-0\">\n          {data.update_user_info &&\n          data.update_user_info?.username !== data.user_info?.username ? (\n            <UserCard\n              data={data?.update_user_info}\n              time={data.edit_time}\n              preFix={t('edit')}\n              isLogged={isLogged}\n              timelinePath={`/posts/${data.id}/timeline?content_type=${contentType}`}\n            />\n          ) : isLogged ? (\n            <Link to={`/posts/${data.id}/timeline?content_type=${contentType}`}>\n              <FormatTime\n                time={data.edit_time}\n                preFix={t('edit')}\n                className=\"link-secondary small\"\n              />\n            </Link>\n          ) : (\n            <FormatTime\n              time={data.edit_time}\n              preFix={t('edit')}\n              className=\"text-secondary small\"\n            />\n          )}\n        </div>\n        <div style={{ minWidth: '196px' }}>\n          <UserCard\n            data={data?.user_info}\n            time={data.create_time}\n            preFix={t('asked')}\n            isLogged={isLogged}\n            timelinePath={`/posts/${data.id}/timeline`}\n          />\n        </div>\n      </div>\n\n      <Comment\n        objectId={data?.id}\n        mode=\"question\"\n        commentId={searchParams.get('commentId')}\n      />\n    </div>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC } from 'react';\nimport { Card, ListGroup } from 'react-bootstrap';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { Icon } from '@/components';\nimport { useSimilarQuestion } from '@/services';\nimport { RelatedContentQuery } from '@/common/i18n';\nimport IntegralLink from '@/components/IntegralLink';\nimport handleOpenPayScore from '@/components/Pay';\nimport { loggedUserInfoStore } from '@/stores';\nimport { getUrlQuestionType, isModerator } from '@/common/constants';\n\ninterface Props {\n  id: string;\n}\nconst Index: FC<Props> = ({ id }) => {\n  const contentType = getUrlQuestionType();\n  const { t } = useTranslation('translation', {\n    keyPrefix: RelatedContentQuery[contentType],\n  });\n  const { t: qt } = useTranslation('translation', { keyPrefix: 'question' });\n  const navigate = useNavigate();\n  const user = loggedUserInfoStore((state) => state.user);\n  const { data, isLoading } = useSimilarQuestion({\n    question_id: id,\n    page_size: 5,\n    content_type: contentType,\n  });\n\n  if (isLoading) {\n    return null;\n  }\n\n  return (\n    <Card>\n      <Card.Header>{t('title')}</Card.Header>\n      <ListGroup variant=\"flush\">\n        {data?.list?.map((item) => {\n          return (\n            <ListGroup.Item\n              action\n              key={item.id}\n              as={Link}\n              onClick={(event) => {\n                event.preventDefault();\n                handleOpenPayScore(qt, navigate, user, item);\n              }}\n              to=\".\">\n              <div className=\"link-dark\">\n                {item.title}\n                <IntegralLink\n                  score={item.score}\n                  t={t}\n                  contentType={item.content_type}\n                  isPay={\n                    isModerator(item, user) ||\n                    item.buyer_user_ids.indexOf(user.id) !== -1\n                  }\n                />\n              </div>\n              {item.answer_count > 0 && (\n                <div\n                  className={`mt-1 small me-2 ${\n                    item.accepted_answer_id > 0\n                      ? 'link-success'\n                      : 'link-secondary'\n                  }`}>\n                  <Icon\n                    name={\n                      item.accepted_answer_id > 0\n                        ? 'check-circle-fill'\n                        : 'chat-square-text-fill'\n                    }\n                    className=\"me-1\"\n                  />\n\n                  <span>\n                    {item.answer_count} {t('answers')}\n                  </span>\n                </div>\n              )}\n            </ListGroup.Item>\n          );\n        })}\n      </ListGroup>\n    </Card>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, useState, FC, useEffect } from 'react';\nimport { Form, Button, Alert, Badge } from 'react-bootstrap';\nimport { useTranslation, Trans } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport { marked } from 'marked';\nimport classNames from 'classnames';\n\nimport { usePromptWithUnload } from '@/hooks';\nimport { useCaptchaPlugin } from '@/utils/pluginKit';\nimport { Editor, Icon, Modal, TextArea, AILoading } from '@/components';\nimport { FormDataType, PostAnswerReq } from '@/common/interface';\nimport { postAIAnswer, postAnswer } from '@/services';\nimport { guard, handleFormError, SaveDraft, storageExpires } from '@/utils';\nimport { DRAFT_ANSWER_STORAGE_KEY } from '@/common/constants';\nimport { loggedUserInfoStore, writeSettingStore } from '@/stores';\nimport { SseService } from '@/common/functions';\n\ninterface Props {\n  visible?: boolean;\n  data: {\n    /** question  id */\n    qid: string;\n    aiAnswered?: boolean;\n    answered?: boolean;\n    loggedUserRank: number;\n    first_answer_id?: string;\n  };\n  callback?: (obj) => void;\n}\n\nconst saveDraft = new SaveDraft({ type: 'answer' });\n\nconst Index: FC<Props> = ({ visible = false, data, callback }) => {\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'question_detail.write_answer',\n  });\n  const [formData, setFormData] = useState<FormDataType>({\n    content: {\n      value: '',\n      isInvalid: false,\n      errorMsg: '',\n    },\n  });\n  const [showEditor, setShowEditor] = useState<boolean>(visible);\n  const [focusType, setFocusType] = useState('');\n  const [editorFocusState, setEditorFocusState] = useState(false);\n  const [hasDraft, setHasDraft] = useState(false);\n  const [showTips, setShowTips] = useState(data.loggedUserRank < 100);\n  const aCaptcha = useCaptchaPlugin('answer');\n  const writeInfo = writeSettingStore((state) => state.write);\n  const [editorCanSave, setEditorCanSave] = useState(false);\n  const [aiLoading, setAILoading] = useState(false);\n  usePromptWithUnload({\n    when: Boolean(formData.content.value),\n  });\n  const userInfo = loggedUserInfoStore((state) => state.user);\n  SseService.GetInstance().addAICallback('AIHandle', (eve) => {\n    if (!aiLoading) {\n      return;\n    }\n    const info = eve.data;\n    const answerInfo = JSON.parse(info);\n    if (answerInfo.user_id === userInfo.id) {\n      SseService.GetInstance().removeAIEventListener();\n      setAILoading(false);\n      window.location.reload();\n    }\n  });\n  const removeDraft = () => {\n    // immediately remove debounced save\n    saveDraft.save.cancel();\n    saveDraft.remove();\n    setHasDraft(false);\n  };\n\n  useEffect(() => {\n    const draft = storageExpires.get(DRAFT_ANSWER_STORAGE_KEY);\n    if (draft?.questionId === data.qid && draft?.content) {\n      setShowEditor(true);\n      setFormData({\n        content: {\n          value: draft.content,\n          isInvalid: false,\n          errorMsg: '',\n        },\n      });\n      setHasDraft(true);\n    }\n    setTimeout(() => {\n      setEditorCanSave(true);\n    }, 100);\n  }, []);\n\n  useEffect(() => {\n    const draft = storageExpires.get(DRAFT_ANSWER_STORAGE_KEY);\n    const { content } = formData;\n\n    if (content.value) {\n      // save Draft\n      saveDraft.save({\n        questionId: data?.qid,\n        content: content.value,\n      });\n\n      setHasDraft(true);\n    } else if (draft?.questionId === data.qid && !content.value) {\n      removeDraft();\n    }\n  }, [formData.content.value]);\n\n  const checkValidated = (): boolean => {\n    let bol = true;\n    const { content } = formData;\n\n    if (!content.value || Array.from(content.value.trim()).length < 6) {\n      bol = false;\n      formData.content = {\n        value: content.value,\n        isInvalid: true,\n        errorMsg: t('characters'),\n      };\n    } else {\n      formData.content = {\n        value: content.value,\n        isInvalid: false,\n        errorMsg: '',\n      };\n    }\n\n    setFormData({\n      ...formData,\n    });\n    return bol;\n  };\n\n  const resetForm = () => {\n    setFormData({\n      content: {\n        value: '',\n        isInvalid: false,\n        errorMsg: '',\n      },\n    });\n  };\n\n  const deleteDraft = () => {\n    const res = window.confirm(t('discard_confirm', { keyPrefix: 'draft' }));\n    if (res) {\n      removeDraft();\n      resetForm();\n    }\n  };\n\n  const submitAnswer = (isAI: boolean = false) => {\n    const params: PostAnswerReq = {\n      question_id: data?.qid,\n      content: isAI ? 'AIReply' : formData.content.value,\n      html: marked.parse(formData.content.value),\n    };\n    const imgCode = aCaptcha?.getCaptcha();\n    if (imgCode?.verify) {\n      params.captcha_code = imgCode.captcha_code;\n      params.captcha_id = imgCode.captcha_id;\n    }\n    (isAI ? postAIAnswer(params) : postAnswer(params))\n      .then(async (res) => {\n        await aCaptcha?.close();\n        setShowEditor(false);\n        setFormData({\n          content: {\n            value: '',\n            isInvalid: false,\n            errorMsg: '',\n          },\n        });\n        removeDraft();\n        callback?.(res.info);\n        if (isAI) {\n          SseService.GetInstance().removeAIEventListener();\n          setAILoading(false);\n        }\n      })\n      .catch((ex) => {\n        if (ex.isError) {\n          aCaptcha?.handleCaptchaError(ex.list);\n          const stateData = handleFormError(ex, formData);\n          setFormData({ ...stateData });\n        }\n      });\n  };\n\n  const handleSubmit = () => {\n    if (!guard.tryNormalLogged(true)) {\n      return;\n    }\n    if (!checkValidated()) {\n      return;\n    }\n    if (!aCaptcha) {\n      submitAnswer();\n      return;\n    }\n    aCaptcha.check(() => submitAnswer());\n  };\n\n  const clickAIBtn = () => {\n    if (!guard.tryNormalLogged(true)) {\n      return;\n    }\n    SseService.GetInstance().addAIEventListener();\n    setAILoading(true);\n    submitAnswer(true);\n  };\n\n  const clickBtn = () => {\n    if (!guard.tryNormalLogged(true)) {\n      return;\n    }\n\n    if (data?.answered && !showEditor) {\n      Modal.confirm({\n        title: t('confirm_title'),\n        content: t('confirm_info'),\n        confirmText: t('continue'),\n        onConfirm: () => {\n          setShowEditor(true);\n        },\n      });\n      return;\n    }\n\n    if (!showEditor) {\n      setShowEditor(true);\n      return;\n    }\n\n    handleSubmit();\n  };\n  const handleFocusForTextArea = (evt) => {\n    if (!guard.tryNormalLogged(true)) {\n      evt.currentTarget.blur();\n      return;\n    }\n    setFocusType('answer');\n    setShowEditor(true);\n    setEditorFocusState(true);\n  };\n  return (\n    <Form noValidate className=\"mt-4\">\n      <AILoading loading={aiLoading} color=\"#3f51b5\" />\n      {(!data.answered || showEditor) && (\n        <Form.Group className=\"mb-3\">\n          <Form.Label>\n            <h5>{t('title')}</h5>\n          </Form.Label>\n          <Form.Control\n            isInvalid={formData.content.isInvalid}\n            className=\"d-none\"\n          />\n          {!showEditor && !data.answered && (\n            <div className=\"d-flex\">\n              <TextArea\n                className=\"w-100\"\n                rows={8}\n                autoFocus={false}\n                onFocus={handleFocusForTextArea}\n              />\n            </div>\n          )}\n          {showEditor && (\n            <>\n              <Editor\n                className={classNames(\n                  'form-control p-0',\n                  focusType === 'answer' && 'focus',\n                )}\n                value={formData.content.value}\n                autoFocus={editorFocusState}\n                onChange={(val) => {\n                  if (editorCanSave) {\n                    setFormData({\n                      content: {\n                        value: val,\n                        isInvalid: false,\n                        errorMsg: '',\n                      },\n                    });\n                  }\n                }}\n                onFocus={() => {\n                  setFocusType('answer');\n                }}\n                onBlur={() => {\n                  setFocusType('');\n                }}\n              />\n\n              <Alert\n                variant=\"warning\"\n                show={data.loggedUserRank < 100 && showTips}\n                onClose={() => setShowTips(false)}\n                dismissible\n                className=\"mt-3\">\n                <p>{t('tips.header_1')}</p>\n                <ul>\n                  <li>\n                    <Trans\n                      i18nKey=\"question_detail.write_answer.tips.li1_1\"\n                      components={{ strong: <strong /> }}\n                    />\n                  </li>\n                  <li>{t('tips.li1_2')}</li>\n                </ul>\n                <p>\n                  <Trans\n                    i18nKey=\"question_detail.write_answer.tips.header_2\"\n                    components={{ strong: <strong /> }}\n                  />\n                </p>\n                <ul className=\"mb-0\">\n                  <li>{t('tips.li2_1')}</li>\n                </ul>\n              </Alert>\n            </>\n          )}\n\n          <Form.Control.Feedback type=\"invalid\">\n            {formData.content.errorMsg}\n          </Form.Control.Feedback>\n        </Form.Group>\n      )}\n\n      {data.answered && !showEditor ? (\n        // the 0th answer is the oldest one\n        <Link\n          to={`/posts/${data.qid}/${data.first_answer_id}/edit`}\n          className=\"btn btn-primary\">\n          {t('edit_answer')}\n        </Link>\n      ) : (\n        <>\n          <Button className=\"me-3\" onClick={clickBtn}>\n            {t('btn_name')}\n          </Button>\n          {!data.aiAnswered ? (\n            <Button onClick={clickAIBtn}>{t('btn_ai_name')}</Button>\n          ) : (\n            <div className=\"lh-1 btn m-0\">\n              <Badge bg=\"secondary\" pill>\n                <Icon name=\"check-circle-fill  me-1\" />\n                {t('ai_answered')}\n              </Badge>\n            </div>\n          )}\n        </>\n      )}\n\n      {data.answered && !showEditor && !writeInfo.restrict_answer && (\n        <Button onClick={clickBtn} className=\"ms-2 \" variant=\"outline-primary\">\n          {t('add_another_answer')}\n        </Button>\n      )}\n\n      {hasDraft && (\n        <Button variant=\"link\" className=\"ms-2\" onClick={deleteDraft}>\n          {t('discard_draft', { keyPrefix: 'btns' })}\n        </Button>\n      )}\n    </Form>\n  );\n};\n\nexport default memo(Index);\n","// extracted by mini-css-extract-plugin\nexport default {};","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["Index","data","t","useTranslation","_jsx","Alert","className","variant","level","children","_jsxs","msg","startsWith","description","href","dateTime","dayjs","time","tz","toISOString","title","format","memo","aid","acceptedId","isLogged","score","questionTitle","callback","canAccept","_data$user_info","_data$update_user_inf","_data$user_info2","contentType","getUrlQuestionType","isPayType","PayContentType","indexOf","isScoreContent","accepted","keyPrefix","searchParams","useSearchParams","answerRef","useRef","useRenderHtmlPlugin","current","isAccepted","useEffect","htmlRender","querySelector","id","setTimeout","element","scrollToElementTop","get","bgFadeOut","ref","status","Badge","bg","pill","Icon","name","ImgViewer","dangerouslySetInnerHTML","__html","html","is_ai","Actions","source","isHate","vote_status","isLike","votesCount","vote_count","hideCollect","collected","collectCount","username","user_info","Button","onClick","acceptAnswer","Modal","confirm","content","cancelBtnVariant","confirmBtnVariant","confirmText","onConfirm","acceptanceAnswer","question_id","answer_id","then","Operate","qid","memberActions","member_actions","type","style","minWidth","update_user_info","UserCard","Number","update_time","preFix","timelinePath","Link","to","FormatTime","create_time","Comment","objectId","isObjectAI","mode","commentId","sortBtns","sort","count","order","QueryGroup","currentSort","i18nKeyPrefix","height","marginBottom","width","map","item","i","selectedPeople","visible","onSelect","saveInviteUsers","user","currentUser","loggedUserInfoStore","peopleList","setPeopleList","useState","currentIndex","setCurrentIndex","searchValue","setSearchValue","searchPeople","s","userSearchByName","resp","filteredPeople","forEach","p","role_id","find","_","push","filterAndSetPeople","handleSelect","idx","length","people","Dropdown","autoClose","show","onKeyDown","evt","stopPropagation","keyCode","preventDefault","onToggle","state","Menu","renderOnMount","Form","Control","autoFocus","placeholder","value","onChange","target","Item","eventKey","onFocus","active","Check","Input","tabIndex","checked","Boolean","v","Label","Avatar","avatar","size","alt","display_name","questionId","readOnly","editing","setEditing","users","setUsers","iaCaptcha","useCaptchaPlugin","submitInviteUser","names","imgCode","resolveCaptchaReq","putInviteUser","async","close","catch","ex","isError","handleCaptchaError","list","getInviteUser","Card","Header","Body","classNames","PeopleDropdown","userID","userList","_userList","filter","check","initPage","hasAnswer","_data$tags","followed","setFollowed","is_followed","userInfo","needQuestionToLoginOrUp","pin","IntegralLink","isPay","isModerator","buyer_user_ids","view_count","formatCount","OverlayTrigger","placement","overlay","Tooltip","e","guard","following","object_id","is_cancel","res","handleFollow","tags","Tag","slug_name","collection_count","accepted_answer_id","edit_time","_data$list","RelatedContentQuery","qt","navigate","useNavigate","isLoading","useSimilarQuestion","page_size","content_type","ListGroup","action","as","event","handleOpenPayScore","answer_count","saveDraft","SaveDraft","formData","setFormData","isInvalid","errorMsg","showEditor","setShowEditor","focusType","setFocusType","editorFocusState","setEditorFocusState","hasDraft","setHasDraft","showTips","setShowTips","loggedUserRank","aCaptcha","writeInfo","writeSettingStore","write","editorCanSave","setEditorCanSave","aiLoading","setAILoading","usePromptWithUnload","when","SseService","GetInstance","addAICallback","eve","info","JSON","parse","user_id","removeAIEventListener","window","location","reload","removeDraft","save","cancel","remove","draft","storageExpires","DRAFT_ANSWER_STORAGE_KEY","submitAnswer","isAI","params","marked","getCaptcha","verify","captcha_code","captcha_id","postAIAnswer","postAnswer","stateData","handleFormError","handleSubmit","checkValidated","bol","Array","from","trim","clickBtn","answered","noValidate","AILoading","loading","color","Group","TextArea","rows","currentTarget","blur","_Fragment","Editor","val","onBlur","onClose","dismissible","Trans","i18nKey","components","strong","Feedback","first_answer_id","aiAnswered","clickAIBtn","addAIEventListener","restrict_answer","deleteDraft"],"sourceRoot":""}