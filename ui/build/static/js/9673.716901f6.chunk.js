"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[9673],{59673:(e,t,l)=>{l.r(t),l.d(t,{default:()=>v});var o=l(28915),i=l(51588),a=l(48058),r=l(81801),s=l(47185),n=l(4440),c=l(24978),m=l(98774),u=l(68179);const v=()=>{var e,t,l,v;const{t:d}=(0,i.B)("translation",{keyPrefix:"admin.themes"}),h=(0,s.dj)(),[p,_]=(0,o.useState)(),y={title:d("page_title"),properties:{themes:{type:"string",title:d("themes.label"),description:d("themes.text"),enum:null===p||void 0===p||null===(e=p.theme_options)||void 0===e?void 0:e.map((e=>e.value)),enumNames:null===p||void 0===p||null===(t=p.theme_options)||void 0===t?void 0:t.map((e=>e.label)),default:null===p||void 0===p||null===(l=p.theme_options)||void 0===l||null===(v=l[0])||void 0===v?void 0:v.value},color_scheme:{type:"string",title:d("color_scheme.label"),enum:["system","light","dark"],enumNames:[d("system_setting",{keyPrefix:"btns"}),d("light",{keyPrefix:"btns"}),d("dark",{keyPrefix:"btns"})],default:null===p||void 0===p?void 0:p.color_scheme},navbar_style:{type:"string",title:d("navbar_style.label"),enum:["colored","light"],enumNames:["Colored","Light"],default:"colored"},primary_color:{type:"string",title:d("primary_color.label"),description:d("primary_color.text"),default:"#0033FF"}}},g={themes:{"ui:widget":"select"},color_scheme:{"ui:widget":"select"},navbar_style:{"ui:widget":"select"},primary_color:{"ui:widget":"input_group","ui:options":{inputType:"color",suffixBtnOptions:{text:"",variant:"outline-secondary",iconName:"arrow-counterclockwise",actionType:"click",title:d("reset",{keyPrefix:"btns"}),clickCallback:()=>x()}}}},[b,f]=(0,o.useState)((0,r.pw)(y)),{update:k}=(0,c.P2)((e=>e)),x=()=>{const e={...b};e.primary_color.value="#0033FF",f({...e})};(0,o.useEffect)((()=>{(0,a.AB)().then((e=>{if(e){_(e);const t=e.theme,l=e.theme_config[t],o={...b};o.themes.value=t,o.navbar_style.value=null===l||void 0===l?void 0:l.navbar_style,o.primary_color.value=null===l||void 0===l?void 0:l.primary_color,b.color_scheme.value=(null===e||void 0===e?void 0:e.color_scheme)||"system",f({...o})}}))}),[]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h3",{className:"mb-4",children:d("page_title")}),(0,u.jsx)(r.q,{schema:y,formData:b,onSubmit:e=>{e.preventDefault(),e.stopPropagation();const t=b.themes.value,l={theme:t,color_scheme:b.color_scheme.value,theme_config:{[t]:{navbar_style:b.navbar_style.value,primary_color:b.primary_color.value}}};(0,a.Hb)(l).then((()=>{h.onShow({msg:d("update",{keyPrefix:"toast"}),variant:"success"}),k(l),(0,m.setupAppTheme)()})).catch((e=>{if(e.isError){const t=(0,n.NC)(e,b);f({...t});const l=document.getElementById(e.list[0].error_field);(0,n.qt)(l)}}))},uiSchema:g,onChange:e=>{f(e);const t=null===p||void 0===p?void 0:p.theme_config[e.themes.value];t&&(t.navbar_style=e.navbar_style.value,t.primary_color=e.primary_color.value,_({...p,theme:null===p||void 0===p?void 0:p.theme,theme_config:null===p||void 0===p?void 0:p.theme_config}))}})]})}}}]);
//# sourceMappingURL=9673.716901f6.chunk.js.map