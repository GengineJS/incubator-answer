"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[9538,9402],{39402:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var i=n(99205),s=n(51588),r=n(65200),l=n(81801),a=n(48058),d=n(47185),c=n(68179);const o=({itemData:e,refreshList:t,curFilter:n,show:o,pin:x})=>{const{t:h}=(0,s.B)("translation",{keyPrefix:"delete"}),m=(0,d.TS)(t),u=(0,d.dj)(),f=n=>{if("delete"===n&&l.aF.confirm({title:h("title",{keyPrefix:"delete"}),content:e.answer_count>0?h("question",{keyPrefix:"delete"}):h("other",{keyPrefix:"delete"}),cancelBtnVariant:"link",confirmBtnVariant:"danger",confirmText:h("delete",{keyPrefix:"btns"}),onConfirm:()=>{(0,a.bM)(e.id,"deleted").then((()=>{t()}))}}),"undelete"===n&&l.aF.confirm({title:h("undelete_title"),content:h("undelete_desc"),cancelBtnVariant:"link",confirmBtnVariant:"danger",confirmText:h("undelete",{keyPrefix:"btns"}),onConfirm:()=>{(0,a.bM)(e.id,"available").then((()=>{t()}))}}),"close"===n&&m.onShow({type:"question",id:e.id,action:"close"}),"reopen"===n&&l.aF.confirm({title:h("title",{keyPrefix:"question_detail.reopen"}),content:h("content",{keyPrefix:"question_detail.reopen"}),cancelBtnVariant:"link",confirmText:h("confirm_btn",{keyPrefix:"question_detail.reopen"}),onConfirm:()=>{(0,a.aA)({question_id:e.id}).then((()=>{u.onShow({msg:h("post_reopen",{keyPrefix:"messages"}),variant:"success"}),t()}))}}),"list"===n||"unlist"===n){const i="list"===n?"question_detail.list":"question_detail.unlist";l.aF.confirm({title:h("title",{keyPrefix:i}),content:h("content",{keyPrefix:i}),cancelBtnVariant:"link",confirmText:h("confirm_btn",{keyPrefix:i}),onConfirm:()=>{(0,a.W7)({id:e.id,operation:"list"===n?"show":"hide"}).then((()=>{u.onShow({msg:h(`post_${n}`,{keyPrefix:"messages"}),variant:"success"}),t()}))}})}};return"pending"===n?(0,c.jsx)(r.N_,{to:`/review?type=queued_post&objectId=${e.id}`,className:"btn btn-link p-0",title:h("review",{keyPrefix:"header.nav"}),children:(0,c.jsx)(l.In,{name:"three-dots-vertical"})}):(0,c.jsxs)(i.A,{children:[(0,c.jsx)(i.A.Toggle,{variant:"link",className:"no-toggle p-0",children:(0,c.jsx)(l.In,{name:"three-dots-vertical",title:h("action",{keyPrefix:"admin.answers"})})}),(0,c.jsxs)(i.A.Menu,{children:["normal"===n&&(0,c.jsx)(i.A.Item,{onClick:()=>f("close"),children:h("close",{keyPrefix:"btns"})}),"closed"===n&&(0,c.jsx)(i.A.Item,{onClick:()=>f("reopen"),children:h("reopen",{keyPrefix:"btns"})}),"deleted"!==n?(0,c.jsx)(i.A.Item,{onClick:()=>f("delete"),children:h("delete",{keyPrefix:"btns"})}):(0,c.jsx)(i.A.Item,{onClick:()=>f("undelete"),children:h("undelete",{keyPrefix:"btns"})}),2===o?(0,c.jsx)(i.A.Item,{onClick:()=>f("list"),children:h("list",{keyPrefix:"btns"})}):2!==x&&(0,c.jsx)(i.A.Item,{onClick:()=>f("unlist"),children:h("unlist",{keyPrefix:"btns"})})]})]})}},19538:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var i=n(46261),s=n(22807),r=n(10808),l=n(65200),a=n(51588),d=n(14577),c=n.n(d),o=n(81801),x=n(76812),h=n(48058),m=n(34202),u=n(39402),f=n(68179);const j=["normal","pending","closed","deleted"],k=()=>{var e;const[t,n]=(0,l.ok)(),d=t.get("status")||j[0],k=Number(t.get("page"))||1,y=t.get("query")||"",{t:p}=(0,a.B)("translation",{keyPrefix:"admin.questions"}),{data:_,isLoading:b,mutate:g}=(0,h.Al)({page_size:20,page:k,status:d,query:y}),w=(null===_||void 0===_?void 0:_.count)||0;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h3",{className:"mb-4",children:p("page_title")}),(0,f.jsxs)("div",{className:"d-flex flex-wrap justify-content-between align-items-center mb-3",children:[(0,f.jsx)(o.gu,{data:j,currentSort:d,sortKey:"status",i18nKeyPrefix:"btns"}),(0,f.jsx)(i.A.Control,{value:y,size:"sm",type:"search",placeholder:p("filter.placeholder"),onChange:e=>{t.set("query",e.target.value),t.delete("page"),n(t)},style:{width:"12.25rem"},className:"mt-3 mt-sm-0"})]}),(0,f.jsxs)(s.A,{responsive:!0,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"min-w-15",children:p("post")}),(0,f.jsx)("th",{style:{width:"8%"},children:p("votes")}),(0,f.jsx)("th",{style:{width:"8%"},children:p("answers")}),(0,f.jsx)("th",{style:{width:"15%"},children:p("created")}),(0,f.jsx)("th",{style:{width:"14%"},children:p("status")}),(0,f.jsx)("th",{style:{width:"10%"},className:"text-end",children:p("action")})]})}),(0,f.jsx)("tbody",{className:"align-middle",children:null===_||void 0===_||null===(e=_.list)||void 0===e?void 0:e.map((e=>{var t,n;return(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{children:[(0,f.jsx)("a",{href:m.w.questionLanding(e.id,e.url_title,e.content_type),target:"_blank",className:"text-break text-wrap",rel:"noreferrer",children:e.title}),e.accepted_answer_id>0&&(0,f.jsx)(o.In,{name:"check-circle-fill",className:"ms-2 text-success"})]}),(0,f.jsx)("td",{children:e.vote_count}),(0,f.jsx)("td",{children:(0,f.jsx)(l.N_,{to:`/admin/answers?questionId=${e.id}`,rel:"noreferrer",children:e.answer_count})}),(0,f.jsx)("td",{children:(0,f.jsxs)(r.A,{children:[(0,f.jsx)(o.fZ,{data:e.user_info,nameMaxWidth:"130px"}),(0,f.jsx)(o.H0,{className:"small text-secondary",time:e.create_time})]})}),(0,f.jsxs)("td",{children:[(0,f.jsx)("span",{className:c()("badge","me-1","mb-1",null===(t=x.__[d])||void 0===t?void 0:t.variant),children:p(null===(n=x.__[d])||void 0===n?void 0:n.name,{keyPrefix:"btns"})}),2===e.show&&(0,f.jsx)("span",{className:c()("badge",x.__.unlisted.variant),children:p(x.__.unlisted.name,{keyPrefix:"btns"})})]}),(0,f.jsx)("td",{className:"text-end",children:(0,f.jsx)(u.default,{itemData:{id:e.id,answer_count:e.answer_count},refreshList:g,curFilter:d,show:e.show,pin:e.pin})})]},e.id)}))})]}),Number(w)<=0&&!b&&(0,f.jsx)(o.Sv,{}),(0,f.jsx)("div",{className:"mt-4 mb-2 d-flex justify-content-center",children:(0,f.jsx)(o.dK,{currentPage:k,totalSize:w,pageSize:20})})]})}}}]);
//# sourceMappingURL=9538.b033a10a.chunk.js.map