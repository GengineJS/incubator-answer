"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[8881],{38881:(e,t,i)=>{i.r(t),i.d(t,{default:()=>y});var n=i(28915),s=i(53799),a=i(13015),d=i(98329),c=i(65200),o=i(51588),l=i(81801),r=i(76812),_=i(48058),v=i(68179);const y=({data:e,isAdmin:t,objectInfo:i,revisionList:y})=>{const{t:j}=(0,o.B)("translation",{keyPrefix:"timeline"}),[x,p]=(0,n.useState)(!1),[h,u]=(0,n.useState)({new_revision:{},old_revision:{}});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("tr",{children:[(0,v.jsxs)("td",{children:[(0,v.jsx)(l.H0,{time:e.created_at}),(0,v.jsx)("br",{}),e.cancelled_at>0&&(0,v.jsx)(l.H0,{time:e.cancelled_at})]}),(0,v.jsxs)("td",{className:"text-nowrap",children:[("rollback"===e.activity_type||"edited"===e.activity_type||"asked"===e.activity_type||"created"===e.activity_type||"answer"===i.object_type&&"answered"===e.activity_type)&&(0,v.jsxs)(s.A,{onClick:()=>(async e=>{if(!x){const t=null===y||void 0===y?void 0:y.find((t=>t.revision_id===e));let i;if((null===y||void 0===y?void 0:y.length)>0&&t){const e=y.indexOf(t)||0;i=e===y.length-1?0:y[e+1].revision_id}const n=await(0,_.Dh)({new_revision_id:e,old_revision_id:i});u(n)}p(!x)})(e.revision_id),variant:"link",className:"text-body p-0 btn-no-border",children:[(0,v.jsx)(l.In,{name:"caret-right-fill",className:"me-1 "+(x?"rotate-90-deg":"rotate-0-deg")}),j(e.activity_type)]}),"accept"===e.activity_type&&(0,v.jsx)(c.N_,{to:`/questions/${i.question_id}/${null===e||void 0===e?void 0:e.object_id}`,children:j(e.activity_type)}),"question"===i.object_type&&"answered"===e.activity_type&&(0,v.jsx)(c.N_,{to:`/questions/${i.question_id}/${e.object_id}`,children:j(e.activity_type)}),"commented"===e.activity_type&&(0,v.jsx)(c.N_,{to:"answer"===i.object_type?`/questions/${i.question_id}/${i.answer_id}?commentId=${e.object_id}`:`/questions/${i.question_id}?commentId=${e.object_id}`,children:j(e.activity_type)}),r.Hn.includes(e.activity_type)&&(0,v.jsx)("div",{children:j(e.activity_type)}),e.cancelled&&(0,v.jsx)("div",{className:"text-danger",children:j("cancelled")})]}),(0,v.jsx)("td",{children:"downvote"!==e.activity_type||t?(0,v.jsx)(l.fZ,{className:"fs-normal",data:null===e||void 0===e?void 0:e.user_info,showAvatar:!1,showReputation:!1}):(0,v.jsx)("div",{children:j("n_or_a")})}),(0,v.jsx)("td",{children:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:e.comment}})})]}),(0,v.jsx)("tr",{className:x?"":"d-none",children:(0,v.jsx)("td",{colSpan:5,className:"p-0 py-5",children:(0,v.jsx)(a.A,{className:"justify-content-center",children:(0,v.jsx)(d.A,{xxl:8,children:(0,v.jsx)(l.V$,{objectType:i.object_type,newData:null===h||void 0===h?void 0:h.new_revision,oldData:null===h||void 0===h?void 0:h.old_revision})})})})})]})}}}]);
//# sourceMappingURL=8881.167ed243.chunk.js.map