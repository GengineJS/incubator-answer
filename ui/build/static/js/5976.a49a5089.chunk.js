"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[5976],{95976:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var s=r(28915),a=r(51588),i=r(81801),n=r(47185),l=r(48058),o=r(4440),d=r(24978),c=r(68179);const g=()=>{const{t:e}=(0,a.B)("translation",{keyPrefix:"admin.write"}),t=(0,n.dj)(),r={title:e("page_title"),properties:{restrict_answer:{type:"boolean",title:e("restrict_answer.title"),description:e("restrict_answer.text"),default:!0},recommend_tags:{type:"string",title:e("recommend_tags.label"),description:e("recommend_tags.text")},required_tag:{type:"boolean",title:e("required_tag.title"),description:e("required_tag.text")},reserved_tags:{type:"string",title:e("reserved_tags.label"),description:e("reserved_tags.text")}}},g={restrict_answer:{"ui:widget":"switch","ui:options":{label:e("restrict_answer.label")}},recommend_tags:{"ui:widget":"textarea","ui:options":{rows:10}},required_tag:{"ui:widget":"switch","ui:options":{label:e("required_tag.label")}},reserved_tags:{"ui:widget":"textarea","ui:options":{rows:10}}},[u,_]=(0,s.useState)((0,i.pw)(r));(0,s.useEffect)((()=>{(0,l.bJ)().then((e=>{Array.isArray(e.recommend_tags)&&(u.recommend_tags.value=e.recommend_tags.join("\n")),u.required_tag.value=e.required_tag,u.restrict_answer.value=e.restrict_answer,Array.isArray(e.reserved_tags)&&(u.reserved_tags.value=e.reserved_tags.join("\n")),_({...u})}))}),[]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{className:"mb-4",children:e("page_title")}),(0,c.jsx)(i.q,{schema:r,formData:u,onSubmit:r=>{var s,a;r.preventDefault(),r.stopPropagation();let i=[];null!==(s=u.recommend_tags.value)&&void 0!==s&&s.trim()&&(i=u.recommend_tags.value.trim().split("\n"));let n=[];null!==(a=u.reserved_tags.value)&&void 0!==a&&a.trim()&&(n=u.reserved_tags.value.trim().split("\n"));const c={recommend_tags:i,reserved_tags:n,required_tag:u.required_tag.value,restrict_answer:u.restrict_answer.value};(0,l.pM)(c).then((()=>{t.onShow({msg:e("update",{keyPrefix:"toast"}),variant:"success"}),d.j7.getState().update({restrict_answer:c.restrict_answer})})).catch((e=>{if(e.isError){const t=(0,o.NC)(e,u);_({...t});const r=document.getElementById(e.list[0].error_field);(0,o.qt)(r)}}))},uiSchema:g,onChange:e=>{_(e)}})]})}}}]);
//# sourceMappingURL=5976.a49a5089.chunk.js.map