"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[8462],{88462:(e,i,t)=>{t.r(i),t.d(i,{default:()=>h});var s=t(28915),n=t(83556),d=t(67324),a=t(53799),c=t(51588),l=t(65200),o=t(81801),r=t(4440),m=t(48058),u=t(25831),v=t(76812),_=t(15480),x=t(68179);const p=({aid:e,data:i,acceptedId:t,isLogged:p,score:h=0,questionTitle:b="",callback:f,canAccept:j=!1})=>{var g,w,k;const N=(0,_.gH)(),q=-1!==v._P.indexOf(N),y=h&&q;"0"!==t&&y&&(j=2===i.accepted);const{t:A}=(0,c.B)("translation",{keyPrefix:"question_detail"}),[I]=(0,l.ok)(),C=(0,s.useRef)(null);(0,u.e9)(C.current);const L=2===(null===i||void 0===i?void 0:i.accepted);return(0,s.useEffect)((()=>{null!==C&&void 0!==C&&C.current&&((0,o._A)(C.current.querySelector(".fmt")),e===i.id&&setTimeout((()=>{const e=C.current;(0,r.qt)(e),I.get("commentId")||(0,r.gj)(C.current)}),100))}),[i.id,C.current]),null!==i&&void 0!==i&&i.id?(0,x.jsxs)("div",{id:i.id,ref:C,className:"answer-item py-4",children:[10===i.status&&(0,x.jsx)(n.A,{variant:"danger",className:"mb-4",children:A("post_deleted",{keyPrefix:"messages"})}),11===i.status&&(0,x.jsx)(n.A,{variant:"secondary",className:"mb-4",children:A("post_pending",{keyPrefix:"messages"})}),L&&(0,x.jsx)("div",{className:"mb-3 lh-1",children:(0,x.jsxs)(d.A,{bg:"success",pill:!0,children:[(0,x.jsx)(o.In,{name:"check-circle-fill me-1"}),A("best_answer")]})}),(0,x.jsxs)(o.EQ,{children:[(0,x.jsx)("article",{className:"fmt text-break text-wrap",dangerouslySetInnerHTML:{__html:null===i||void 0===i?void 0:i.html}}),i.is_ai&&(0,x.jsxs)("div",{className:"fmt fs-7 small text-secondary text-break text-wrap",children:["(",A("ai_commented"),")"]})]}),(0,x.jsxs)("div",{className:"d-flex align-items-center mt-4",children:[(0,x.jsx)(o.En,{source:"answer",data:{id:null===i||void 0===i?void 0:i.id,isHate:"vote_down"===(null===i||void 0===i?void 0:i.vote_status),isLike:"vote_up"===(null===i||void 0===i?void 0:i.vote_status),votesCount:null===i||void 0===i?void 0:i.vote_count,hideCollect:!0,collected:null===i||void 0===i?void 0:i.collected,collectCount:0,username:null===i||void 0===i||null===(g=i.user_info)||void 0===g?void 0:g.username}}),j&&(0,x.jsxs)(a.A,{variant:2===i.accepted?"success":"outline-success",className:"ms-3",onClick:()=>{y?o.aF.confirm({title:A("accept_title"),content:A(L?"not_accept":"warn_accept"),cancelBtnVariant:"link",confirmBtnVariant:"danger",confirmText:A(L?"ok":"accept"),onConfirm:()=>{L||(0,m.EL)({question_id:i.question_id,answer_id:2===i.accepted?"0":i.id,score:y?h:0}).then((()=>{null===f||void 0===f||f("")}))}}):(0,m.EL)({question_id:i.question_id,answer_id:2===i.accepted?"0":i.id}).then((()=>{null===f||void 0===f||f("")}))},children:[(0,x.jsx)(o.In,{name:"check-circle-fill",className:"me-2"}),(0,x.jsx)("span",{children:2===i.accepted?A("answers.btn_accepted"):A("answers.btn_accept")})]})]}),(0,x.jsxs)("div",{className:"d-block d-md-flex flex-wrap mt-4 mb-3",children:[(0,x.jsx)("div",{className:"mb-3 mb-md-0 me-4 flex-grow-1",children:(0,x.jsx)(o.lR,{qid:i.question_id,aid:i.id,score:h,memberActions:null===i||void 0===i?void 0:i.member_actions,type:"answer",isAccepted:2===i.accepted,title:b,callback:f})}),(0,x.jsx)("div",{className:"mb-3 mb-md-0 me-4",style:{minWidth:"196px"},children:i.update_user_info&&(null===(w=i.update_user_info)||void 0===w?void 0:w.username)!==(null===(k=i.user_info)||void 0===k?void 0:k.username)?(0,x.jsx)(o.qu,{data:null===i||void 0===i?void 0:i.update_user_info,time:Number(i.update_time),preFix:A("edit"),isLogged:p,timelinePath:`/posts/${i.question_id}/${i.id}/timeline`}):p?(0,x.jsx)(l.N_,{to:`/posts/${i.question_id}/${i.id}/timeline`,children:(0,x.jsx)(o.H0,{time:Number(i.update_time),preFix:A("edit"),className:"link-secondary small"})}):(0,x.jsx)(o.H0,{time:Number(i.update_time),preFix:A("edit"),className:"text-secondary small"})}),(0,x.jsx)("div",{style:{minWidth:"196px"},children:(0,x.jsx)(o.qu,{data:null===i||void 0===i?void 0:i.user_info,time:Number(i.create_time),preFix:A("answered"),isLogged:p,timelinePath:`/posts/${i.question_id}/${i.id}/timeline`})})]}),(0,x.jsx)(o.Mw,{objectId:i.id,isObjectAI:i.is_ai,mode:"answer",commentId:I.get("commentId")})]}):null},h=(0,s.memo)(p)}}]);
//# sourceMappingURL=8462.db17837e.chunk.js.map