{"version":3,"file":"static/js/6243.f8c4913f.chunk.js","mappings":"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","sources":["pages/Admin/Dashboard/components/HealthStatus/index.tsx"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC } from 'react';\nimport { Card, Row, Col } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport type * as Type from '@/common/interface';\nimport { siteInfoStore } from '@/stores';\n\nconst { gt, gte } = require('semver');\n\ninterface IProps {\n  data: Type.AdminDashboard['info'];\n}\n\nconst HealthStatus: FC<IProps> = ({ data }) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'admin.dashboard' });\n  const { version, remote_version } = data.version_info || {};\n  const { siteInfo } = siteInfoStore();\n  let isLatest = false;\n  let hasNewerVersion = false;\n  if (version && remote_version) {\n    isLatest = gte(version, remote_version);\n    hasNewerVersion = gt(remote_version, version);\n  }\n  return (\n    <Card className=\"mb-4\">\n      <Card.Body>\n        <h6 className=\"mb-3\">{t('site_health')}</h6>\n        <Row>\n          <Col xs={6} className=\"mb-1 d-flex align-items-center\">\n            <span className=\"text-secondary me-1\">{t('version')}</span>\n            <strong>{version}</strong>\n            {isLatest && (\n              <a\n                className=\"ms-1 badge rounded-pill text-bg-success\"\n                target=\"_blank\"\n                href=\"https://github.com/apache/incubator-answer/releases\"\n                rel=\"noreferrer\">\n                {t('latest')}\n              </a>\n            )}\n            {!isLatest && hasNewerVersion && (\n              <a\n                className=\"ms-1 badge rounded-pill text-bg-warning\"\n                target=\"_blank\"\n                href=\"https://github.com/apache/incubator-answer/releases\"\n                rel=\"noreferrer\">\n                {t('update_to')} {remote_version}\n              </a>\n            )}\n            {!isLatest && !remote_version && siteInfo.check_update && (\n              <a\n                className=\"ms-1 badge rounded-pill text-bg-danger\"\n                target=\"_blank\"\n                href=\"https://github.com/apache/incubator-answer/releases\"\n                rel=\"noreferrer\">\n                {t('check_failed')}\n              </a>\n            )}\n          </Col>\n          <Col xs={6} className=\"mb-1\">\n            <span className=\"text-secondary me-1\">{t('run_mode')}</span>\n            <strong>{data.login_required ? t('private') : t('public')}</strong>\n          </Col>\n          <Col xs={6} className=\"mb-1\">\n            <span className=\"text-secondary me-1\">{t('upload_folder')}</span>\n            <strong>\n              {data.uploading_files ? t('writable') : t('not_writable')}\n            </strong>\n          </Col>\n          <Col xs={6} className=\"mb-1\">\n            <span className=\"text-secondary me-1\">{t('https')}</span>\n            <strong>{data.https ? t('yes') : t('no')}</strong>\n          </Col>\n          <Col xs={6}>\n            <span className=\"text-secondary me-1\">{t('timezone')}</span>\n            <strong>\n              {data.time_zone.split('/')?.[1]?.replaceAll('_', ' ')}\n            </strong>\n          </Col>\n          <Col xs={6}>\n            <span className=\"text-secondary me-1\">{t('smtp')}</span>\n            {data.smtp !== 'not_configured' ? (\n              <strong>{t(data.smtp)}</strong>\n            ) : (\n              <Link to=\"/admin/smtp\" className=\"ms-2\">\n                {t('config')}\n              </Link>\n            )}\n          </Col>\n        </Row>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default HealthStatus;\n"],"names":["gt","gte","require","HealthStatus","data","_data$time_zone$split","_data$time_zone$split2","t","useTranslation","keyPrefix","version","remote_version","version_info","siteInfo","siteInfoStore","isLatest","hasNewerVersion","_jsx","Card","className","children","_jsxs","Body","Row","Col","xs","target","href","rel","check_update","login_required","uploading_files","https","time_zone","split","replaceAll","smtp","Link","to"],"sourceRoot":""}