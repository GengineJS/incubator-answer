"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[3336],{70955:(e,i,l)=>{l.r(i),l.d(i,{default:()=>j});var t=l(28915),s=l(65200),d=l(51588),o=l(54923),n=l(16268),a=l(53799),c=l(81801),r=l(25831),m=l(4440),u=l(48058),v=l(15480),x=l(64711),_=l(76812),p=l(24978),h=l(68179);const f=({data:e,initPage:i,hasAnswer:l,isLogged:f})=>{var j,b,w,k;const{t:g}=(0,d.B)("translation",{keyPrefix:"question_detail"}),[N]=(0,s.ok)(),[y,A]=(0,t.useState)(null===e||void 0===e?void 0:e.is_followed),q=(0,t.useRef)(null),F=(0,v.gH)();(0,r.e9)(q.current);const C=(0,p.bb)((e=>e.user));return(0,t.useEffect)((()=>{e&&A(null===e||void 0===e?void 0:e.is_followed)}),[e]),(0,t.useEffect)((()=>{q.current&&(0,c._A)(q.current)}),[q.current]),null!==e&&void 0!==e&&e.id&&"0"!==(null===e||void 0===e?void 0:e.id)?((0,v.p)(e,C),(0,h.jsxs)("div",{children:[(0,h.jsxs)("h1",{className:"h3 mb-3 text-wrap text-break",children:[2===(null===e||void 0===e?void 0:e.pin)&&(0,h.jsx)(c.In,{name:"pin-fill",className:"me-1",title:g("pinned",{keyPrefix:"btns"})}),(0,h.jsxs)("div",{className:"link-dark",children:[e.title,(0,h.jsx)(x.A,{score:e.score,t:g,contentType:F,isPay:(0,_.Cy)(e,C)||!!C.id&&-1!==e.buyer_user_ids.indexOf(C.id)}),2===e.status?` [${g("closed",{keyPrefix:"question"})}]`:""]})]}),(0,h.jsxs)("div",{className:"d-flex flex-wrap align-items-center small mb-3 text-secondary",children:[(0,h.jsx)(c.H0,{time:e.create_time,preFix:g("Asked"),className:"me-3"}),(0,h.jsx)(c.H0,{time:e.update_time,preFix:g("update"),className:"me-3"}),(null===e||void 0===e?void 0:e.view_count)>0&&(0,h.jsxs)("div",{className:"me-3",children:[g("Views")," ",(0,m.B4)(e.view_count)]}),(0,h.jsx)(o.A,{placement:"bottom",overlay:(0,h.jsx)(n.A,{id:"followTooltip",children:g("follow_tip")}),children:(0,h.jsx)(a.A,{variant:"link",size:"sm",className:"p-0 btn-no-border",onClick:i=>(i=>{i.preventDefault(),m.ah.tryNormalLogged(!0)&&(0,u.CQ)({object_id:null===e||void 0===e?void 0:e.id,is_cancel:y}).then((e=>{A(e.is_followed)}))})(i),children:g(y?"Following":"Follow")})})]}),(0,h.jsx)("div",{className:"m-n1",children:null===e||void 0===e||null===(j=e.tags)||void 0===j?void 0:j.map((e=>(0,h.jsx)(c.vw,{className:"m-1",data:e},e.slug_name)))}),(0,h.jsx)(c.EQ,{children:(0,h.jsx)("article",{ref:q,className:"fmt text-break text-wrap mt-4",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.html}})}),(0,h.jsx)(c.En,{className:"mt-4",source:"question",data:{id:null===e||void 0===e?void 0:e.id,isHate:"vote_down"===(null===e||void 0===e?void 0:e.vote_status),isLike:"vote_up"===(null===e||void 0===e?void 0:e.vote_status),votesCount:null===e||void 0===e?void 0:e.vote_count,collected:null===e||void 0===e?void 0:e.collected,collectCount:null===e||void 0===e?void 0:e.collection_count,username:null===(b=e.user_info)||void 0===b?void 0:b.username}}),(0,h.jsxs)("div",{className:"d-block d-md-flex flex-wrap mt-4 mb-3",children:[(0,h.jsx)("div",{className:"mb-3 mb-md-0 me-4 flex-grow-1",children:(0,h.jsx)(c.lR,{qid:null===e||void 0===e?void 0:e.id,type:"question",score:e.score,memberActions:null===e||void 0===e?void 0:e.member_actions,title:e.title,hasAnswer:l,isAccepted:Boolean("0"!==(null===e||void 0===e?void 0:e.accepted_answer_id)),callback:i})}),(0,h.jsx)("div",{style:{minWidth:"196px"},className:"mb-3 me-4 mb-md-0",children:e.update_user_info&&(null===(w=e.update_user_info)||void 0===w?void 0:w.username)!==(null===(k=e.user_info)||void 0===k?void 0:k.username)?(0,h.jsx)(c.qu,{data:null===e||void 0===e?void 0:e.update_user_info,time:e.edit_time,preFix:g("edit"),isLogged:f,timelinePath:`/posts/${e.id}/timeline?content_type=${F}`}):f?(0,h.jsx)(s.N_,{to:`/posts/${e.id}/timeline?content_type=${F}`,children:(0,h.jsx)(c.H0,{time:e.edit_time,preFix:g("edit"),className:"link-secondary small"})}):(0,h.jsx)(c.H0,{time:e.edit_time,preFix:g("edit"),className:"text-secondary small"})}),(0,h.jsx)("div",{style:{minWidth:"196px"},children:(0,h.jsx)(c.qu,{data:null===e||void 0===e?void 0:e.user_info,time:e.create_time,preFix:g("asked"),isLogged:f,timelinePath:`/posts/${e.id}/timeline`})})]}),(0,h.jsx)(c.Mw,{objectId:null===e||void 0===e?void 0:e.id,mode:"question",commentId:N.get("commentId")})]})):null},j=(0,t.memo)(f)}}]);
//# sourceMappingURL=3336.0f4717a7.chunk.js.map