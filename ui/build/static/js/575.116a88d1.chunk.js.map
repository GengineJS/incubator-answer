{"version":3,"file":"static/js/575.116a88d1.chunk.js","mappings":"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","sources":["pages/Users/Personal/components/UserInfo/index.tsx"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC, memo, useEffect, useState } from 'react';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport classnames from 'classnames';\n\nimport { Avatar, Icon, SvgIcon } from '@/components';\nimport type { UserInfoRes } from '@/common/interface';\nimport { getUcBranding, UcBrandingEntry } from '@/services';\nimport { userCenterStore } from '@/stores';\nimport { isVIP } from '@/common/constants';\n\ninterface Props {\n  data: UserInfoRes;\n}\n\nconst Index: FC<Props> = ({ data }) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'personal' });\n  const { agent: ucAgent } = userCenterStore();\n  const [ucBranding, setUcBranding] = useState<UcBrandingEntry[]>([]);\n  const isVip = isVIP(data);\n  const initData = () => {\n    if (ucAgent?.enabled && data?.username) {\n      getUcBranding(data.username).then((resp) => {\n        if (resp.enabled && Array.isArray(resp.personal_branding)) {\n          setUcBranding(resp.personal_branding);\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    initData();\n  }, [data?.username]);\n  if (!data?.username) {\n    return null;\n  }\n  return (\n    <div className=\"d-flex flex-column flex-md-row mb-4\">\n      {data?.status !== 'deleted' ? (\n        <Link to={`/users/${data.username}`} reloadDocument>\n          <Avatar\n            avatar={data.avatar}\n            size=\"160px\"\n            searchStr=\"s=256\"\n            alt={data.display_name}\n          />\n        </Link>\n      ) : (\n        <Avatar\n          avatar={data.avatar}\n          size=\"160px\"\n          searchStr=\"s=256\"\n          alt={data.display_name}\n        />\n      )}\n\n      <div className=\"ms-0 ms-md-4 mt-4 mt-md-0\">\n        <div className=\"d-flex align-items-center mb-2\">\n          {data?.status !== 'deleted' ? (\n            <Link\n              to={`/users/${data.username}`}\n              className=\"link-dark h3 mb-0\"\n              reloadDocument>\n              {data.display_name}\n            </Link>\n          ) : (\n            <span className=\"link-dark h3 mb-0\">{data.display_name}</span>\n          )}\n          {data?.role_id === 2 && (\n            <div className=\"ms-2\">\n              <OverlayTrigger\n                placement=\"top\"\n                overlay={<Tooltip>{t('mod_long')}</Tooltip>}>\n                <span className=\"badge text-bg-light\">{t('mod_short')}</span>\n              </OverlayTrigger>\n            </div>\n          )}\n        </div>\n        <div className=\"text-secondary mb-4\">\n          @{`${data.username} `}\n          <span\n            style={{\n              padding: '1px 3px',\n              borderRadius: '5px',\n              backgroundImage: isVip\n                ? data.group_info.Name === 'SVIP'\n                  ? 'linear-gradient(to right, #b65959, #8e44ad)'\n                  : 'linear-gradient(to right, #bf9f00, #ff8c00)'\n                : 'linear-gradient(to right, #959697, #6c757d)',\n              color: 'white',\n              fontSize: 'x-small',\n              display: 'inline-block',\n            }}>\n            {isVip ? data.group_info.Name : t(data.group_info.Name)}\n          </span>\n        </div>\n\n        <div className=\"d-flex flex-wrap mb-3\">\n          <div className=\"me-3\">\n            <strong className=\"fs-5\">{data.rank || 0}</strong>\n            <span className=\"text-secondary\"> {t('x_reputation')}</span>\n          </div>\n          <div className=\"me-3\">\n            <strong className=\"fs-5\">{data.answer_count || 0}</strong>\n            <span className=\"text-secondary\"> {t('x_answers')}</span>\n          </div>\n          <div className=\"me-3\">\n            <strong className=\"fs-5\">{data?.question_count || 0}</strong>\n            <span className=\"text-secondary\"> {t('x_questions')}</span>\n          </div>\n          <div>\n            <a href=\"https://cloud.assetbun.com/setting\">\n              <strong className=\"fs-5\">{data?.score || 0}</strong>\n            </a>\n            <span className=\"text-secondary\"> {t('x_integral')}</span>\n          </div>\n        </div>\n\n        <div className=\"d-flex text-secondary\">\n          {!ucAgent?.enabled ? (\n            <>\n              {data.location && (\n                <div className=\"d-flex align-items-center me-3\">\n                  <Icon name=\"geo-alt-fill\" className=\"me-2\" />\n                  <span>{data.location}</span>\n                </div>\n              )}\n              {data.website && (\n                <div className=\"d-flex align-items-center\">\n                  <Icon name=\"house-door-fill\" className=\"me-2\" />\n                  <a\n                    className=\"link-secondary\"\n                    href={\n                      data.website?.startsWith('http')\n                        ? data.website\n                        : `http://${data.website}`\n                    }>\n                    {\n                      data?.website\n                        .replace(/(http|https):\\/\\//, '')\n                        .split('/')?.[0]\n                    }\n                  </a>\n                </div>\n              )}\n            </>\n          ) : null}\n          {ucBranding.map((b, i, a) => {\n            if (!b.label) {\n              return null;\n            }\n            return (\n              <div\n                key={b.name}\n                className={classnames('d-flex', 'align-items-center', {\n                  'me-3': i < a.length - 1,\n                })}>\n                {b.icon ? (\n                  <SvgIcon base64={b.icon} svgClassName=\"me-2\" />\n                ) : null}\n                {b.url ? (\n                  <a className=\"link-secondary\" href={b.url}>\n                    {b.label}\n                  </a>\n                ) : (\n                  <span>{b.label}</span>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Index);\n"],"names":["Index","data","_data$website","_data$website$replace","t","useTranslation","keyPrefix","agent","ucAgent","userCenterStore","ucBranding","setUcBranding","useState","isVip","isVIP","useEffect","enabled","username","getUcBranding","then","resp","Array","isArray","personal_branding","_jsxs","className","children","status","_jsx","Link","to","reloadDocument","Avatar","avatar","size","searchStr","alt","display_name","role_id","OverlayTrigger","placement","overlay","Tooltip","style","padding","borderRadius","backgroundImage","group_info","Name","color","fontSize","display","rank","answer_count","question_count","href","score","_Fragment","location","Icon","name","website","startsWith","replace","split","map","b","i","a","label","classnames","length","icon","SvgIcon","base64","svgClassName","url","memo"],"sourceRoot":""}