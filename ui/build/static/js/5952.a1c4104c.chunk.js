"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[5952,8624],{96243:(e,l,a)=>{a.r(l),a.d(l,{default:()=>i});var s=a(28915),r=a(77919),d=a(68179);const n=({step:e})=>(0,d.jsxs)("div",{className:"d-flex align-items-center small text-secondary",children:[(0,d.jsx)(r.A,{now:e/5*100,variant:"success",style:{width:"200px"},className:"me-2"}),(0,d.jsxs)("span",{children:[e,"/5"]})]}),i=(0,s.memo)(n)},5952:(e,l,a)=>{a.r(l),a.d(l,{default:()=>t});var s=a(46261),r=a(53799),d=a(51588),n=a(96243),i=a(68179);const o=[{value:"mysql",label:"MariaDB/MySQL"},{value:"sqlite3",label:"SQLite"},{value:"postgres",label:"PostgreSQL"}],t=({visible:e,data:l,changeCallback:a,nextCallback:t})=>{const{t:b}=(0,d.B)("translation",{keyPrefix:"install"});return e?(0,i.jsxs)(s.A,{noValidate:!0,onSubmit:e=>{e.preventDefault(),e.stopPropagation(),(()=>{let e=!0;const{db_type:s,db_username:r,db_password:d,db_host:n,db_name:i,db_file:o}=l;return"sqlite3"!==s.value?(r.value||(e=!1,l.db_username={value:"",isInvalid:!0,errorMsg:b("db_username.msg")}),d.value||(e=!1,l.db_password={value:"",isInvalid:!0,errorMsg:b("db_password.msg")}),n.value||(e=!1,l.db_host={value:"",isInvalid:!0,errorMsg:b("db_host.msg")}),i.value||(e=!1,l.db_name={value:"",isInvalid:!0,errorMsg:b("db_name.msg")})):o.value||(e=!1,l.db_file={value:"",isInvalid:!0,errorMsg:b("db_file.msg")}),a({...l}),e})()&&t()},children:[(0,i.jsxs)(s.A.Group,{controlId:"database_engine",className:"mb-3",children:[(0,i.jsx)(s.A.Label,{children:b("db_type.label")}),(0,i.jsx)(s.A.Select,{value:l.db_type.value,isInvalid:l.db_type.isInvalid,onChange:e=>{a({db_type:{value:e.target.value,isInvalid:!1,errorMsg:""}})},children:o.map((e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),"sqlite3"!==l.db_type.value?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.A.Group,{controlId:"username",className:"mb-3",children:[(0,i.jsx)(s.A.Label,{children:b("db_username.label")}),(0,i.jsx)(s.A.Control,{required:!0,placeholder:b("db_username.placeholder"),value:l.db_username.value,isInvalid:l.db_username.isInvalid,onChange:e=>{a({db_username:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,i.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.db_username.errorMsg})]}),(0,i.jsxs)(s.A.Group,{controlId:"db_password",className:"mb-3",children:[(0,i.jsx)(s.A.Label,{children:b("db_password.label")}),(0,i.jsx)(s.A.Control,{required:!0,value:l.db_password.value,isInvalid:l.db_password.isInvalid,onChange:e=>{a({db_password:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,i.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.db_password.errorMsg})]}),(0,i.jsxs)(s.A.Group,{controlId:"db_host",className:"mb-3",children:[(0,i.jsx)(s.A.Label,{children:b("db_host.label")}),(0,i.jsx)(s.A.Control,{required:!0,placeholder:b("db_host.placeholder"),value:l.db_host.value,isInvalid:l.db_host.isInvalid,onChange:e=>{a({db_host:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,i.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.db_host.errorMsg})]}),(0,i.jsxs)(s.A.Group,{controlId:"name",className:"mb-3",children:[(0,i.jsx)(s.A.Label,{children:b("db_name.label")}),(0,i.jsx)(s.A.Control,{required:!0,placeholder:b("db_name.placeholder"),value:l.db_name.value,isInvalid:l.db_name.isInvalid,onChange:e=>{a({db_name:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,i.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.db_name.errorMsg})]})]}):(0,i.jsxs)(s.A.Group,{controlId:"file",className:"mb-3",children:[(0,i.jsx)(s.A.Label,{children:b("db_file.label")}),(0,i.jsx)(s.A.Control,{required:!0,placeholder:b("db_file.placeholder"),value:l.db_file.value,isInvalid:l.db_file.isInvalid,onChange:e=>{a({db_file:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,i.jsx)(s.A.Control.Feedback,{type:"invalid",children:l.db_file.errorMsg})]}),(0,i.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,i.jsx)(n.default,{step:2}),(0,i.jsx)(r.A,{type:"submit",children:b("next")})]})]}):null}}}]);
//# sourceMappingURL=5952.a1c4104c.chunk.js.map