"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[2470],{82470:(e,a,l)=>{l.r(a),l.d(a,{default:()=>_});var s=l(28915),i=l(46261),r=l(53799),t=l(65200),n=l(51588),o=l(31574),c=l(25831),d=l(48058),v=l(13121),u=l(4440),p=l(74947);var m=l(15480),g=l(76812),h=l(68179);const y=({callback:e})=>{const{t:a}=(0,n.B)("translation",{keyPrefix:"login"}),[l,y]=(0,s.useState)({name:{value:"",isInvalid:!1,errorMsg:""},e_mail:{value:"",isInvalid:!1,errorMsg:""},pass:{value:"",isInvalid:!1,errorMsg:""}}),_=(0,v.A)((e=>e.update)),x=(0,c.T5)("email"),b=e=>{y({...l,...e})},f=(()=>{const{data:e}=(0,p.N)(),{data:a}=(0,p.f)();return(0,s.useCallback)(((l,s)=>{l.stopPropagation();const i="tos"===s?null===e||void 0===e?void 0:e.terms_of_service_original_text:null===a||void 0===a?void 0:a.privacy_policy_original_text;let r;try{i&&(r=new URL(i))}catch(t){}r&&(l.preventDefault(),window.open(r.toString()))}),[e,a])})(),j=a=>{a&&a.preventDefault();const s={name:l.name.value,e_mail:l.e_mail.value,pass:l.pass.value,is_ab:(0,m.DO)()},i=null===x||void 0===x?void 0:x.getCaptcha();null!==i&&void 0!==i&&i.verify&&(s.captcha_code=i.captcha_code,s.captcha_id=i.captcha_id),(0,d.kz)(s).then((async a=>{await(null===x||void 0===x?void 0:x.close()),_(a),e()})).catch((e=>{if(e.isError){null===x||void 0===x||x.handleCaptchaError(e.list);const a=(0,u.NC)(e,l);y({...a});const s=document.getElementById(e.list[0].error_field);(0,u.qt)(s)}}))},C=(0,m.DO)(),I=C?g.y0:"/privacy",k=C?g.DS:"/tos";return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(i.A,{noValidate:!0,onSubmit:async e=>{e.preventDefault(),e.stopPropagation(),(()=>{let e=!0;const{e_mail:s,pass:i}=l;if(s.value||(e=!1,l.e_mail={value:"",isInvalid:!0,errorMsg:a("email.msg.empty")}),i.value||(e=!1,l.pass={value:"",isInvalid:!0,errorMsg:a("password.msg.empty")}),y({...l}),!e){const e=Object.keys(l).filter((e=>l[e].isInvalid)),a=document.getElementById(e[0]);(0,u.qt)(a)}return e})()&&(x?x.check((()=>{j()})):j())},autoComplete:"off",children:[(0,h.jsxs)(i.A.Group,{controlId:"name",className:"mb-3",children:[(0,h.jsx)(i.A.Label,{children:a("name.label")}),(0,h.jsx)(i.A.Control,{autoComplete:"off",required:!0,type:"text",isInvalid:l.name.isInvalid,value:l.name.value,onChange:e=>b({name:{value:e.target.value,isInvalid:!1,errorMsg:""}})}),(0,h.jsx)(i.A.Control.Feedback,{type:"invalid",children:l.name.errorMsg})]}),(0,h.jsxs)(i.A.Group,{controlId:"email",className:"mb-3",children:[(0,h.jsx)(i.A.Label,{children:a("email.label")}),(0,h.jsx)(i.A.Control,{autoComplete:"off",required:!0,type:"e_mail",isInvalid:l.e_mail.isInvalid,value:l.e_mail.value,onChange:e=>b({e_mail:{value:e.target.value,isInvalid:!1,errorMsg:""}})}),(0,h.jsx)(i.A.Control.Feedback,{type:"invalid",children:l.e_mail.errorMsg})]}),(0,h.jsxs)(i.A.Group,{controlId:"password",className:"mb-3",children:[(0,h.jsx)(i.A.Label,{children:a("password.label")}),(0,h.jsx)(i.A.Control,{autoComplete:"off",required:!0,type:"password",isInvalid:l.pass.isInvalid,value:l.pass.value,onChange:e=>b({pass:{value:e.target.value,isInvalid:!1,errorMsg:""}})}),(0,h.jsx)(i.A.Control.Feedback,{type:"invalid",children:l.pass.errorMsg})]}),(0,h.jsx)("div",{className:"d-grid",children:(0,h.jsx)(r.A,{variant:"primary",type:"submit",children:a("signup",{keyPrefix:"btns"})})})]}),(0,h.jsx)("div",{className:"text-center small mt-3",children:(0,h.jsxs)(o.x,{i18nKey:"login.agreements",ns:"translation",children:["By registering, you agree to the",(0,h.jsx)(t.N_,{to:I,onClick:e=>{f(e,"privacy")},target:"_blank",children:"privacy policy"}),"and",(0,h.jsx)(t.N_,{to:k,onClick:e=>{f(e,"tos")},target:"_blank",children:"terms of service"}),"."]})})]})},_=s.memo(y)}}]);
//# sourceMappingURL=2470.da8e79ce.chunk.js.map