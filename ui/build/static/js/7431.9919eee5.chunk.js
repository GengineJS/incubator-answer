"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[7431],{67431:(e,a,l)=>{l.r(a),l.d(a,{default:()=>x});var s=l(28915),i=l(13015),r=l(98329),n=l(46261),t=l(53799),d=l(16413),o=l(18596),m=l(51588),u=l(14577),c=l.n(u),v=l(47185),g=l(81801),p=l(24978),y=l(48058),N=l(4440),f=l(76812),h=l(68179);const x=()=>{const e={displayName:{value:"",isInvalid:!1,errorMsg:""},slugName:{value:"",isInvalid:!1,errorMsg:""},description:{value:"",isInvalid:!1,errorMsg:""}},{role_id:a=1}=(0,p.bb)((e=>e.user)),l=(0,o.Zp)(),{t:u}=(0,m.B)("translation",{keyPrefix:"tag_modal"}),[x,_]=(0,s.useState)(""),[j,I]=(0,s.useState)(e),[b]=(0,s.useState)(e),[A,M]=(0,s.useState)(!1),C=(0,s.useRef)({getHtml:()=>""});(0,v.XB)({when:A}),(0,s.useEffect)((()=>{const{displayName:e,slugName:a,description:l}=j,{displayName:s,slugName:i,description:r}=b;s&&i&&r&&(s.value!==e.value||i.value!==a.value||r.value!==l.value?M(!0):M(!1))}),[j.displayName.value,j.slugName.value,j.description.value]);return(0,v.M4)({title:u("create_tag",{keyPrefix:"page_title"})}),(0,h.jsxs)("div",{className:"pt-4 mb-5",children:[(0,h.jsx)("h3",{className:"mb-4",children:u("title")}),(0,h.jsxs)(i.A,{children:[(0,h.jsx)(r.A,{className:"page-main flex-auto",children:(0,h.jsxs)(n.A,{noValidate:!0,onSubmit:e=>{if(e.preventDefault(),e.stopPropagation(),M(!1),!(()=>{let e=!0,a="";const{displayName:l,slugName:s}=j;if(l.value?l.value.length>f.zw?(e=!1,a="display_name",j.displayName={value:l.value,isInvalid:!0,errorMsg:u("form.fields.display_name.msg.range")}):j.displayName={value:l.value,isInvalid:!1,errorMsg:""}:(e=!1,a="display_name",j.displayName={value:"",isInvalid:!0,errorMsg:u("form.fields.display_name.msg.empty")}),s.value?s.value.length>f.zw?(e=!1,a="slug_name",j.slugName={value:s.value,isInvalid:!0,errorMsg:u("form.fields.slug_name.msg.range")}):j.slugName={value:s.value,isInvalid:!1,errorMsg:""}:(e=!1,a="slug_name",j.slugName={value:"",isInvalid:!0,errorMsg:u("form.fields.slug_name.msg.empty")}),I({...j}),!e){const e=document.getElementById(a);(0,N.qt)(e)}return e})())return;const a={display_name:j.displayName.value,slug_name:j.slugName.value,original_text:j.description.value};(0,y.VZ)(a).then((e=>{l(`/tags/${encodeURIComponent(e.slug_name)}/info`,{replace:!0})})).catch((e=>{if(e.isError){const a=(0,N.NC)(e,j,[{from:"display_name",to:"displayName"},{from:"slug_name",to:"slugName"},{from:"original_text",to:"description"}]);I({...a});const l=document.getElementById(e.list[0].error_field);(0,N.qt)(l)}}))},children:[(0,h.jsxs)(n.A.Group,{controlId:"display_name",className:"mb-3",children:[(0,h.jsx)(n.A.Label,{children:u("form.fields.display_name.label")}),(0,h.jsx)(n.A.Control,{type:"text",value:j.displayName.value,isInvalid:j.displayName.isInvalid,disabled:2!==a&&3!==a,onChange:e=>{I({...j,displayName:{...j.displayName,value:e.currentTarget.value,isInvalid:!1}})}}),(0,h.jsx)(n.A.Control.Feedback,{type:"invalid",children:j.displayName.errorMsg})]}),(0,h.jsxs)(n.A.Group,{controlId:"slug_name",className:"mb-3",children:[(0,h.jsx)(n.A.Label,{children:u("form.fields.slug_name.label")}),(0,h.jsx)(n.A.Control,{type:"text",value:j.slugName.value,isInvalid:j.slugName.isInvalid,disabled:2!==a&&3!==a,onChange:e=>{I({...j,slugName:{...j.slugName,value:e.currentTarget.value,isInvalid:!1}})}}),(0,h.jsx)(n.A.Text,{as:"div",children:u("form.fields.slug_name.desc")}),(0,h.jsx)(n.A.Control.Feedback,{type:"invalid",children:j.slugName.errorMsg})]}),(0,h.jsxs)(n.A.Group,{controlId:"description",className:"mt-4",children:[(0,h.jsx)(n.A.Label,{children:u("form.fields.desc.label")}),(0,h.jsx)(g.KE,{value:j.description.value,onChange:e=>I({...j,description:{...j.description,value:e,isInvalid:!1}}),className:c()("form-control p-0","description"===x&&"focus"),onFocus:()=>{_("description")},onBlur:()=>{_("")},ref:C}),(0,h.jsx)(n.A.Control,{value:j.description.value,type:"text",isInvalid:j.description.isInvalid,readOnly:!0,hidden:!0}),(0,h.jsx)(n.A.Control.Feedback,{type:"invalid",children:j.description.errorMsg})]}),(0,h.jsx)("div",{className:"mt-3",children:(0,h.jsx)(t.A,{type:"submit",children:u("btn_post")})})]})}),(0,h.jsx)(r.A,{className:"page-right-side mt-4 mt-xl-0",children:(0,h.jsxs)(d.A,{children:[(0,h.jsx)(d.A.Header,{children:u("title",{keyPrefix:"how_to_format"})}),(0,h.jsx)(d.A.Body,{className:"fmt small",dangerouslySetInnerHTML:{__html:u("desc",{keyPrefix:"how_to_format"})}})]})})]})]})}}}]);
//# sourceMappingURL=7431.9919eee5.chunk.js.map