"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[324],{324:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var r=a(28915),l=a(47760),n=a(98329),t=a(46261),o=a(53799),i=a(65200),d=a(51588),c=a(47185),p=a(24978),u=a(48058),v=a(4440),m=a(68179);const g=()=>{const{t:e}=(0,d.B)("translation",{keyPrefix:"password_reset"}),[s]=(0,i.ok)(),[a,g]=(0,r.useState)(1),h=(0,p.bb)((e=>e.clear)),[x,j]=(0,r.useState)({pass:{value:"",isInvalid:!1,errorMsg:""},passSecond:{value:"",isInvalid:!1,errorMsg:""}}),b=e=>{j({...x,...e})};return(0,c.M4)({title:e("account_recovery",{keyPrefix:"page_title"})}),(0,m.jsxs)(l.A,{style:{paddingTop:"4rem",paddingBottom:"6rem"},children:[(0,m.jsx)("h3",{className:"text-center mb-5",children:e("page_title")}),1===a&&(0,m.jsx)(n.A,{className:"mx-auto",md:6,lg:4,xl:3,children:(0,m.jsxs)(t.A,{noValidate:!0,onSubmit:a=>{if(a.preventDefault(),a.stopPropagation(),!1===(()=>{let s=!0;const{pass:a,passSecond:r}=x;if(a.value||(s=!1,x.pass={value:"",isInvalid:!0,errorMsg:e("password.msg.empty")}),s&&a.value&&a.value.length<8&&(s=!1,x.pass={value:a.value,isInvalid:!0,errorMsg:e("password.msg.length")}),s&&!r.value&&(s=!1,x.passSecond={value:"",isInvalid:!0,errorMsg:e("password.msg.empty")}),s&&r.value&&r.value.length<8&&(s=!1,x.passSecond={value:r.value,isInvalid:!0,errorMsg:e("password.msg.length")}),s&&a.value!==r.value&&(s=!1,x.passSecond={value:r.value,isInvalid:!0,errorMsg:e("password.msg.different")}),j({...x}),!s){const e=Object.keys(x).filter((e=>x[e].isInvalid)),s=document.getElementById(e[0]);(0,v.qt)(s)}return s})())return;const r=s.get("code");r?(0,u.I0)({code:encodeURIComponent(r),pass:x.pass.value}).then((()=>{h(),g(2)})).catch((e=>{if(e.isError){const s=(0,v.NC)(e,x);j({...s});const a=document.getElementById(e.list[0].error_field);(0,v.qt)(a)}})):console.error("code is required")},autoComplete:"off",children:[(0,m.jsxs)(t.A.Group,{controlId:"pass",className:"mb-3",children:[(0,m.jsx)(t.A.Label,{children:e("password.label")}),(0,m.jsx)(t.A.Control,{autoComplete:"off",required:!0,type:"password",isInvalid:x.pass.isInvalid,onChange:e=>{b({pass:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,m.jsx)(t.A.Control.Feedback,{type:"invalid",children:x.pass.errorMsg})]}),(0,m.jsxs)(t.A.Group,{controlId:"passSecond",className:"mb-3",children:[(0,m.jsx)(t.A.Label,{children:e("password_confirm.label")}),(0,m.jsx)(t.A.Control,{autoComplete:"off",required:!0,type:"password",isInvalid:x.passSecond.isInvalid,onChange:e=>{b({passSecond:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,m.jsx)(t.A.Control.Feedback,{type:"invalid",children:x.passSecond.errorMsg})]}),(0,m.jsx)("div",{className:"d-grid mb-3",children:(0,m.jsx)(o.A,{variant:"primary",type:"submit",children:e("btn_name")})})]})}),2===a&&(0,m.jsx)(n.A,{className:"mx-auto px-4",md:6,children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("p",{children:e("reset_success")}),(0,m.jsx)(i.N_,{to:"/users/login",children:e("to_login")})]})}),3===a&&(0,m.jsx)(n.A,{className:"mx-auto px-4",md:6,children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("p",{children:e("link_invalid")}),(0,m.jsx)(i.N_,{to:"/users/login",children:e("to_login")})]})})]})},h=r.memo(g)}}]);
//# sourceMappingURL=324.ca86a707.chunk.js.map