"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[2860,6024],{46024:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var s=n(99205),i=n(51588),a=n(65200),l=n(81801),r=n(48058),d=n(68179);const c=({itemData:e,curFilter:t,refreshList:n})=>{const{t:c}=(0,i.B)("translation",{keyPrefix:"delete"}),o=t=>{"delete"===t&&l.aF.confirm({title:c("title"),content:2===e.accepted?c("answer_accepted"):c("other"),cancelBtnVariant:"link",confirmBtnVariant:"danger",confirmText:c("delete",{keyPrefix:"btns"}),onConfirm:()=>{(0,r.Xt)(e.id,"deleted").then((()=>{n()}))}}),"undelete"===t&&l.aF.confirm({title:c("undelete_title"),content:c("undelete_desc"),cancelBtnVariant:"link",confirmBtnVariant:"danger",confirmText:c("undelete",{keyPrefix:"btns"}),onConfirm:()=>{(0,r.Xt)(e.id,"available").then((()=>{n()}))}})};return"pending"===t?(0,d.jsx)(a.N_,{to:`/review?type=queued_post&objectId=${e.id}`,className:"btn btn-link p-0",title:c("review",{keyPrefix:"header.nav"}),children:(0,d.jsx)(l.In,{name:"three-dots-vertical"})}):(0,d.jsxs)(s.A,{children:[(0,d.jsx)(s.A.Toggle,{variant:"link",className:"no-toggle p-0",children:(0,d.jsx)(l.In,{name:"three-dots-vertical",title:c("action",{keyPrefix:"admin.answers"})})}),(0,d.jsx)(s.A.Menu,{children:"deleted"===t?(0,d.jsx)(s.A.Item,{onClick:()=>o("undelete"),children:c("undelete",{keyPrefix:"btns"})}):(0,d.jsx)(s.A.Item,{onClick:()=>o("delete"),children:c("delete",{keyPrefix:"btns"})})})]})}},42860:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var s=n(46261),i=n(22807),a=n(10808),l=n(65200),r=n(51588),d=n(14577),c=n.n(d),o=n(81801),x=n(76812),h=n(48058),m=n(4440),u=n(34202),j=n(46024),f=n(68179);const g=["normal","pending","deleted"],p=()=>{var e;const[t,n]=(0,l.ok)(),d=t.get("status")||g[0],p=Number(t.get("page"))||1,v=t.get("query")||"",y=t.get("questionId")||"",{t:b}=(0,r.B)("translation",{keyPrefix:"admin.answers"}),{data:k,isLoading:w,mutate:_}=(0,h.en)({page_size:20,page:p,status:d,query:v,question_id:y}),N=(null===k||void 0===k?void 0:k.count)||0;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h3",{className:"mb-4",children:b("page_title")}),(0,f.jsxs)("div",{className:"d-flex flex-wrap justify-content-between align-items-center mb-3",children:[(0,f.jsx)(o.gu,{data:g,currentSort:d,sortKey:"status",i18nKeyPrefix:"btns"}),(0,f.jsx)(s.A.Control,{value:v,onChange:e=>{t.set("query",e.target.value),t.delete("page"),n(t)},size:"sm",type:"search",placeholder:b("filter.placeholder"),style:{width:"12.25rem"},className:"mt-3 mt-sm-0"})]}),(0,f.jsxs)(i.A,{responsive:!0,children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"min-w-15",children:b("post")}),(0,f.jsx)("th",{style:{width:"11%"},children:b("votes")}),(0,f.jsx)("th",{style:{width:"14%"},children:b("created")}),(0,f.jsx)("th",{style:{width:"11%"},children:b("status")}),(0,f.jsx)("th",{style:{width:"11%"},className:"text-end",children:b("action")})]})}),(0,f.jsx)("tbody",{className:"align-middle",children:null===k||void 0===k||null===(e=k.list)||void 0===e?void 0:e.map((e=>{var t,n;return(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{children:[(0,f.jsx)("a",{href:u.w.answerLanding({questionId:e.question_id,slugTitle:e.question_info.url_title,answerId:e.id}),target:"_blank",className:"text-break text-wrap",rel:"noreferrer",children:e.question_info.title}),2===e.accepted&&(0,f.jsx)(o.In,{name:"check-circle-fill",className:"ms-2 text-success"}),(0,f.jsx)("div",{className:"text-truncate-2 small max-w-30",children:(0,m.iL)(e.description)})]}),(0,f.jsx)("td",{children:e.vote_count}),(0,f.jsx)("td",{children:(0,f.jsxs)(a.A,{children:[(0,f.jsx)(o.fZ,{data:e.user_info,nameMaxWidth:"200px"}),(0,f.jsx)(o.H0,{className:"small text-secondary",time:e.create_time})]})}),(0,f.jsx)("td",{children:(0,f.jsx)("span",{className:c()("badge",null===(t=x.__[d])||void 0===t?void 0:t.variant),children:b(null===(n=x.__[d])||void 0===n?void 0:n.name,{keyPrefix:"btns"})})}),(0,f.jsx)("td",{className:"text-end",children:(0,f.jsx)(j.default,{itemData:{id:e.id,accepted:e.accepted},curFilter:d,refreshList:_})})]},e.id)}))})]}),Number(N)<=0&&!w&&(0,f.jsx)(o.Sv,{}),(0,f.jsx)("div",{className:"mt-4 mb-2 d-flex justify-content-center",children:(0,f.jsx)(o.dK,{currentPage:p,totalSize:N,pageSize:20})})]})}}}]);
//# sourceMappingURL=2860.60d6b996.chunk.js.map