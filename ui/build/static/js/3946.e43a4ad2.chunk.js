"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[3946],{23946:(e,n,t)=>{t.r(n),t.d(n,{default:()=>c});var i=t(28915),a=t(51588),s=t(18596),o=t(47185),u=t(81801),l=t(48058),r=t(44455),p=t(68179);const c=()=>{const{t:e}=(0,a.B)("translation"),{slug_name:n}=(0,s.g)(),{data:t,mutate:c}=(0,l.Fw)({plugin_slug_name:n}),m=(0,o.dj)(),[d,f]=(0,i.useState)(null),[g,h]=(0,i.useState)(),_=[],[v,y]=(0,i.useState)(null);(0,i.useEffect)((()=>{var e;if(!t)return;const n={},i={};null===(e=t.config_fields)||void 0===e||e.forEach((e=>{var t;(n[e.name]={type:"string",title:e.title,description:e.description,default:e.value},e.options instanceof Array&&(n[e.name].enum=e.options.map((e=>e.value)),n[e.name].enumNames=e.options.map((e=>e.label))),i[e.name]={},i[e.name]["ui:widget"]=e.type,e.ui_options)&&(null!==(t=e.ui_options)&&void 0!==t&&t.input_type&&(e.ui_options.inputType=e.ui_options.input_type),i[e.name]["ui:options"]=e.ui_options);e.required&&_.push(e.name)}));const a={title:(null===t||void 0===t?void 0:t.name)||"",required:_,properties:n};f(a),h(i),y((0,r.hW)((0,r.pw)(a),v))}),[null===t||void 0===t?void 0:t.config_fields]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h3",{className:"mb-4",children:null===t||void 0===t?void 0:t.name}),(0,p.jsx)(u.q,{schema:d,uiSchema:g,refreshConfig:async()=>{c()},formData:v,onSubmit:t=>{if(!v)return;t.preventDefault(),t.stopPropagation();const i={};Object.keys(v).forEach((e=>{i[e]=v[e].value}));const a={plugin_slug_name:n,config_fields:i};(0,l.FG)(a).then((()=>{m.onShow({msg:e("update",{keyPrefix:"toast"}),variant:"success"})}))},onChange:e=>{y(e)}})]})}}}]);
//# sourceMappingURL=3946.e43a4ad2.chunk.js.map