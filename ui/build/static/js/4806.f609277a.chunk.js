"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[4806],{64806:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var r=i(28915),s=i(51588),a=i(68223),c=i(81801),o=i(47185),_=i(48058),l=i(4440),p=i(68179);const n=()=>{const{t:e}=(0,s.B)("translation",{keyPrefix:"admin.legal"}),t=(0,o.dj)(),i={title:e("page_title"),required:["terms_of_service","privacy_policy"],properties:{terms_of_service:{type:"string",title:e("terms_of_service.label"),description:e("terms_of_service.text")},privacy_policy:{type:"string",title:e("privacy_policy.label"),description:e("privacy_policy.text")}}},[n,v]=(0,r.useState)((0,c.pw)(i));(0,r.useEffect)((()=>{(0,_.SU)().then((e=>{if(e){const t={...n};t.terms_of_service.value=e.terms_of_service_original_text,t.privacy_policy.value=e.privacy_policy_original_text,v(t)}}))}),[]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h3",{className:"mb-4",children:e("page_title")}),(0,p.jsx)(c.q,{schema:i,formData:n,onSubmit:i=>{i.preventDefault(),i.stopPropagation();const r={terms_of_service_original_text:n.terms_of_service.value,terms_of_service_parsed_text:a.xI.parse(n.terms_of_service.value),privacy_policy_original_text:n.privacy_policy.value,privacy_policy_parsed_text:a.xI.parse(n.privacy_policy.value)};(0,_.BA)(r).then((()=>{t.onShow({msg:e("update",{keyPrefix:"toast"}),variant:"success"})})).catch((e=>{if(e.isError){const t=(0,l.NC)(e,n);v({...t});const i=document.getElementById(e.list[0].error_field);(0,l.qt)(i)}}))},uiSchema:{terms_of_service:{"ui:widget":"textarea","ui:options":{rows:10}},privacy_policy:{"ui:widget":"textarea","ui:options":{rows:10}}},onChange:e=>{v(e)}})]})}}}]);
//# sourceMappingURL=4806.f609277a.chunk.js.map