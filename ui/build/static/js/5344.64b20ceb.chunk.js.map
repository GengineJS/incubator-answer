{"version":3,"file":"static/js/5344.64b20ceb.chunk.js","mappings":"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","sources":["pages/Search/components/SearchItem/index.tsx"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { memo, FC } from 'react';\nimport { Link, useNavigate, useSearchParams } from 'react-router-dom';\nimport { ListGroupItem } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\n\nimport { pathFactory } from '@/router/pathFactory';\nimport {\n  Tag,\n  FormatTime,\n  BaseUserCard,\n  Counts,\n  HighlightText,\n} from '@/components';\nimport Pattern from '@/common/pattern';\nimport type { SearchResItem } from '@/common/interface';\nimport { escapeRemove } from '@/utils';\nimport { isModerator } from '@/common/constants';\nimport IntegralLink from '@/components/IntegralLink';\nimport { loggedUserInfoStore } from '@/stores';\nimport handleOpenPayScore from '@/components/Pay';\n\ninterface Props {\n  data: SearchResItem;\n}\nconst Index: FC<Props> = ({ data }) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'question' });\n  if (!data?.object_type) {\n    return null;\n  }\n  let itemUrl = pathFactory.questionLanding(\n    data.object.id,\n    data.object.url_title,\n    data.object.content_type,\n  );\n  if (data.object_type === 'answer' && data.object.question_id) {\n    itemUrl = pathFactory.answerLanding(\n      {\n        questionId: data.object.question_id,\n        slugTitle: data.object.url_title,\n        answerId: data.object.id,\n      },\n      data.object.content_type,\n    );\n  }\n\n  const [searchParams] = useSearchParams();\n  const q = searchParams.get('q');\n  const navigate = useNavigate();\n  const keywords =\n    q\n      ?.replace(Pattern.search, '')\n      ?.split(' ')\n      ?.filter((v) => v !== '') || [];\n  const user = loggedUserInfoStore((state) => state.user);\n  return (\n    <ListGroupItem className=\"py-3 px-0 border-start-0 border-end-0 bg-transparent\">\n      <div className=\"mb-2 clearfix\">\n        <span\n          className=\"float-start me-2 badge text-bg-dark\"\n          style={{ marginTop: '2px' }}>\n          {data.object_type === 'question' ? 'Q' : 'A'}\n        </span>\n        <Link\n          onClick={(event) => {\n            event.preventDefault();\n            handleOpenPayScore(t, navigate, user, data.object, itemUrl);\n          }}\n          className=\"h5 mb-0 link-dark text-break\"\n          to=\".\">\n          <HighlightText text={data.object.title} keywords={keywords} />\n          <IntegralLink\n            score={data.object.score}\n            t={t}\n            contentType={data.object.content_type}\n            isPay={\n              isModerator(data.object, user) ||\n              data.object.buyer_user_ids.indexOf(user.id || '') !== -1\n            }\n          />\n          {data.object.status === 'closed'\n            ? ` [${t('closed', { keyPrefix: 'question' })}]`\n            : null}\n        </Link>\n      </div>\n      <div className=\"d-flex flex-wrap align-items-center small text-secondary mb-2\">\n        <BaseUserCard data={data.object?.user_info} showAvatar={false} />\n\n        <span className=\"split-dot\" />\n        <FormatTime\n          time={data.object?.created_at}\n          className=\"me-3\"\n          preFix={data.object_type === 'question' ? 'asked' : 'answered'}\n        />\n\n        <Counts\n          className=\"my-2 my-sm-0\"\n          showViews={false}\n          isAccepted={data.object?.accepted}\n          showAnswers={data.object_type === 'question'}\n          showAccepted={data.object?.accepted && data.object_type === 'answer'}\n          data={{\n            votes: data.object?.vote_count,\n            answers: data.object?.answer_count,\n            views: 0,\n            score: data.object?.score,\n          }}\n        />\n      </div>\n\n      {data.object?.excerpt && (\n        <p className=\"small text-truncate-2 mb-2 last-p text-break\">\n          <HighlightText\n            text={escapeRemove(data.object.excerpt) || ''}\n            keywords={keywords}\n          />\n        </p>\n      )}\n\n      {data.object?.tags?.map((item) => {\n        return <Tag key={item.slug_name} className=\"me-1\" data={item} />;\n      })}\n    </ListGroupItem>\n  );\n};\n\nexport default memo(Index);\n"],"names":["Index","data","_q$replace","_q$replace$split","_data$object","_data$object2","_data$object3","_data$object4","_data$object5","_data$object6","_data$object7","_data$object8","_data$object9","_data$object9$tags","t","useTranslation","keyPrefix","object_type","itemUrl","pathFactory","questionLanding","object","id","url_title","content_type","question_id","answerLanding","questionId","slugTitle","answerId","searchParams","useSearchParams","q","get","navigate","useNavigate","keywords","replace","Pattern","search","split","filter","v","user","loggedUserInfoStore","state","_jsxs","ListGroupItem","className","children","_jsx","style","marginTop","Link","onClick","event","preventDefault","handleOpenPayScore","to","HighlightText","text","title","IntegralLink","score","contentType","isPay","isModerator","buyer_user_ids","indexOf","status","BaseUserCard","user_info","showAvatar","FormatTime","time","created_at","preFix","Counts","showViews","isAccepted","accepted","showAnswers","showAccepted","votes","vote_count","answers","answer_count","views","excerpt","escapeRemove","tags","map","item","Tag","slug_name","memo"],"sourceRoot":""}