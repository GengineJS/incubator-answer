"use strict";(globalThis.webpackChunkanswer_static=globalThis.webpackChunkanswer_static||[]).push([[5164,8624],{75164:(e,a,l)=>{l.r(a),l.d(a,{default:()=>o});var s=l(46261),r=l(53799),i=l(51588),n=l(97251),t=l(96243),d=l(68179);const o=({visible:e,data:a,changeCallback:l,nextCallback:o})=>{const{t:u}=(0,i.B)("translation",{keyPrefix:"install"});return e?(0,d.jsxs)(s.A,{noValidate:!0,onSubmit:e=>{e.preventDefault(),e.stopPropagation(),(()=>{let e=!0;const{site_name:s,site_url:r,contact_email:i,name:t,password:d,email:o}=a;return s.value||(e=!1,a.site_name={value:"",isInvalid:!0,errorMsg:u("site_name.msg")}),s.value&&s.value.length>30&&(e=!1,a.site_url={value:s.value,isInvalid:!0,errorMsg:u("site_name.msg_max_length")}),r.value||(e=!1,a.site_url={value:"",isInvalid:!0,errorMsg:u("site_name.msg.empty")}),r.value&&!r.value.match(/^(http|https):\/\//g)?(e=!1,a.site_url={value:r.value,isInvalid:!0,errorMsg:u("site_url.msg.incorrect")}):r.value.length>512&&(e=!1,a.site_url={value:r.value,isInvalid:!0,errorMsg:u("site_url.msg.max_length")}),i.value||(e=!1,a.contact_email={value:"",isInvalid:!0,errorMsg:u("contact_email.msg.empty")}),i.value&&!n.A.email.test(i.value)&&(e=!1,a.contact_email={value:i.value,isInvalid:!0,errorMsg:u("contact_email.msg.incorrect")}),t.value?/[^a-z0-9\-._]/.test(t.value)?(e=!1,a.name={value:t.value,isInvalid:!0,errorMsg:u("admin_name.character")}):a.name.value.length>30&&(e=!1,a.name={value:a.name.value,isInvalid:!0,errorMsg:u("admin_name.msg_max_length")}):(e=!1,a.name={value:"",isInvalid:!0,errorMsg:u("admin_name.msg")}),d.value||(e=!1,a.password={value:"",isInvalid:!0,errorMsg:u("admin_password.msg")}),d.value&&d.value.length<4&&(e=!1,a.password={value:a.password.value,isInvalid:!0,errorMsg:u("admin_password.msg_min_length")}),d.value&&d.value.length>32&&(e=!1,a.password={value:a.password.value,isInvalid:!0,errorMsg:u("admin_password.msg_max_length")}),o.value||(e=!1,a.email={value:"",isInvalid:!0,errorMsg:u("admin_email.msg.empty")}),o.value&&!n.A.email.test(o.value)&&(e=!1,a.email={value:o.value,isInvalid:!0,errorMsg:u("admin_email.msg.incorrect")}),l({...a}),e})()&&o()},children:[(0,d.jsx)("h5",{children:u("site_information")}),(0,d.jsxs)(s.A.Group,{controlId:"site_name",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:u("site_name.label")}),(0,d.jsx)(s.A.Control,{required:!0,value:a.site_name.value,isInvalid:a.site_name.isInvalid,onChange:e=>{l({site_name:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:a.site_name.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"site_url",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:u("site_url.label")}),(0,d.jsx)(s.A.Control,{required:!0,value:a.site_url.value,isInvalid:a.site_url.isInvalid,onChange:e=>{l({site_url:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:u("site_url.text")}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:a.site_url.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"contact_email",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:u("contact_email.label")}),(0,d.jsx)(s.A.Control,{required:!0,type:"email",value:a.contact_email.value,isInvalid:a.contact_email.isInvalid,onChange:e=>{l({contact_email:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:u("contact_email.text")}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:a.contact_email.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"login_required",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:u("login_required.label")}),(0,d.jsx)(s.A.Check,{type:"switch",id:"login_required",label:u("login_required.switch"),checked:a.login_required.value,onChange:e=>{l({login_required:{value:e.target.checked,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:u("login_required.text")})]}),(0,d.jsx)("h5",{children:u("admin_account")}),(0,d.jsxs)(s.A.Group,{controlId:"name",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:u("admin_name.label")}),(0,d.jsx)(s.A.Control,{required:!0,value:a.name.value,isInvalid:a.name.isInvalid,onChange:e=>{l({name:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:a.name.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"password",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:u("admin_password.label")}),(0,d.jsx)(s.A.Control,{required:!0,type:"password",value:a.password.value,isInvalid:a.password.isInvalid,onChange:e=>{l({password:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:u("admin_password.text")}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:a.password.errorMsg})]}),(0,d.jsxs)(s.A.Group,{controlId:"email",className:"mb-3",children:[(0,d.jsx)(s.A.Label,{children:u("admin_email.label")}),(0,d.jsx)(s.A.Control,{required:!0,value:a.email.value,isInvalid:a.email.isInvalid,onChange:e=>{l({email:{value:e.target.value,isInvalid:!1,errorMsg:""}})}}),(0,d.jsx)(s.A.Text,{children:u("admin_email.text")}),(0,d.jsx)(s.A.Control.Feedback,{type:"invalid",children:a.email.errorMsg})]}),(0,d.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,d.jsx)(t.default,{step:4}),(0,d.jsx)(r.A,{type:"submit",children:u("next")})]})]}):null}},96243:(e,a,l)=>{l.r(a),l.d(a,{default:()=>t});var s=l(28915),r=l(77919),i=l(68179);const n=({step:e})=>(0,i.jsxs)("div",{className:"d-flex align-items-center small text-secondary",children:[(0,i.jsx)(r.A,{now:e/5*100,variant:"success",style:{width:"200px"},className:"me-2"}),(0,i.jsxs)("span",{children:[e,"/5"]})]}),t=(0,s.memo)(n)}}]);
//# sourceMappingURL=5164.9b821429.chunk.js.map