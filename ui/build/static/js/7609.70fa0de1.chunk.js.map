{"version":3,"file":"static/js/7609.70fa0de1.chunk.js","mappings":"sTA8CA,MA8EA,EA9EsBA,KACpB,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,GAAe,cAAe,CAAEC,UAAW,cACjDF,EAAGG,IAAOF,EAAAA,EAAAA,GAAe,gBACzBG,KAAMC,IAAeC,EAAAA,EAAAA,KAAqBC,GAAMA,KACjDC,IAAmBC,EAAAA,EAAAA,MACpBC,EAAUC,OAAOH,EAAgBI,IAAI,UAAY,EACjDC,EAAeC,EAAAA,GAAQF,IAAIG,EAAAA,IAC3BC,EACJR,EAAgBI,IAAI,UAAYC,GAAgBI,EAAAA,GAAoB,GAClED,IAAaH,GACfC,EAAAA,GAAQI,IAAIH,EAAAA,GAA6BC,GAE3C,MACMG,EAAoC,CACxCC,UAAW,GACXC,KAAMX,EACNY,MAAON,EACPO,WALmBf,EAAgBI,IAAI,eAAiBY,EAAAA,GAAgB,IAO1EL,EAAUM,cAAeC,EAAAA,EAAAA,MACzB,MAAQC,KAAMC,EAAUC,UAAWC,IAAgBC,EAAAA,EAAAA,IAAgBZ,GAC7Da,GAAcC,EAAAA,EAAAA,IAAS,KAC7B,IAAIC,EAAYlC,EAAE,YAAa,CAAEE,UAAW,eACxCiC,EAAS,GACb,MAAM,SAAEC,IAAaC,EAAAA,EAAAA,MACjBL,IACFE,EAAY,GAAGE,EAASE,OACxBH,EAAS,GAAGC,EAASG,qBAEvB,MAAQC,MAAOC,IAAiBC,EAAAA,EAAAA,MAC1BC,GAAaC,EAAAA,EAAAA,MAEnB,OADAC,EAAAA,EAAAA,IAAY,CAAEC,MAAOZ,EAAWa,SAAUZ,KAExCa,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACH,UAAU,sBAAqBC,UAClCC,EAAAA,EAAAA,KAACE,EAAAA,GAAY,CACXC,OAAO,YACP5B,KAAMC,EACNN,MAAON,EACPa,UAAWC,OAGfkB,EAAAA,EAAAA,MAACK,EAAAA,EAAG,CAACH,UAAU,+BAA8BC,SAAA,EAC3CC,EAAAA,EAAAA,KAACI,EAAAA,GAAa,KACZnD,EAAWoD,WACXL,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,UACxBH,EAAAA,EAAAA,MAAA,OAAKE,UAAU,YAAWC,SAAA,EACxBH,EAAAA,EAAAA,MAAA,MAAIE,UAAU,aAAYC,SAAA,CACvBhD,EAAG,kBAAmB,CACrBuD,UAAWtB,EAASE,OAErBK,IAAcS,EAAAA,EAAAA,KAAA,OAAAD,SAAK,WAEtBC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,YAAWC,SAAEf,EAASuB,eACnCP,EAAAA,EAAAA,KAACQ,EAAAA,GAAI,CACHC,GAAIC,EAAAA,GAAAA,cACJZ,UAAU,kBACVa,QAASC,EAAAA,GAAiBC,qBAAqBd,SAC9CnD,EAAE,QAAS,CAAEE,UAAW,WAE1BuC,EAAayB,yBACZd,EAAAA,EAAAA,KAACQ,EAAAA,GAAI,CACHC,GAAIC,EAAAA,GAAAA,eACJZ,UAAU,oBACVa,QAASC,EAAAA,GAAiBC,qBAAqBd,SAC9CnD,EAAE,SAAU,CAAEE,UAAW,WAE1B,UAITG,EAAW8D,eAAgBf,EAAAA,EAAAA,KAACgB,EAAAA,GAAa,KAC1ChB,EAAAA,EAAAA,KAACiB,EAAAA,GAAY,SAEX,C","sources":["pages/Questions/index.tsx"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC } from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport { useMatch, Link, useSearchParams } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { usePageTags } from '@/hooks';\nimport {\n  FollowingTags,\n  QuestionList,\n  HotQuestions,\n  CustomSidebar,\n} from '@/components';\nimport {\n  siteInfoStore,\n  loggedUserInfoStore,\n  loginSettingStore,\n} from '@/stores';\nimport { useQuestionList } from '@/services';\nimport * as Type from '@/common/interface';\nimport { userCenter, floppyNavigation, Storage } from '@/utils';\nimport { QUESTIONS_ORDER_STORAGE_KEY } from '@/common/constants';\nimport {\n  QUESTION_ORDER_KEYS,\n  TYPE_ORDER_KEYS,\n} from '@/components/QuestionList';\nimport { getUrlQuestionType, isAssetBunPageType } from '@/common/functions';\n\nconst Questions: FC = () => {\n  const { t } = useTranslation('translation', { keyPrefix: 'question' });\n  const { t: t2 } = useTranslation('translation');\n  const { user: loggedUser } = loggedUserInfoStore((_) => _);\n  const [urlSearchParams] = useSearchParams();\n  const curPage = Number(urlSearchParams.get('page')) || 1;\n  const storageOrder = Storage.get(QUESTIONS_ORDER_STORAGE_KEY);\n  const curOrder =\n    urlSearchParams.get('order') || storageOrder || QUESTION_ORDER_KEYS[0];\n  if (curOrder !== storageOrder) {\n    Storage.set(QUESTIONS_ORDER_STORAGE_KEY, curOrder);\n  }\n  const curOrderType = urlSearchParams.get('order_type') || TYPE_ORDER_KEYS[0];\n  const reqParams: Type.QueryQuestionsReq = {\n    page_size: 20,\n    page: curPage,\n    order: curOrder as Type.QuestionOrderBy,\n    order_type: curOrderType,\n  };\n  reqParams.content_type = getUrlQuestionType();\n  const { data: listData, isLoading: listLoading } = useQuestionList(reqParams);\n  const isIndexPage = useMatch('/');\n  let pageTitle = t('questions', { keyPrefix: 'page_title' });\n  let slogan = '';\n  const { siteInfo } = siteInfoStore();\n  if (isIndexPage) {\n    pageTitle = `${siteInfo.name}`;\n    slogan = `${siteInfo.short_description}`;\n  }\n  const { login: loginSetting } = loginSettingStore();\n  const isAssetBun = isAssetBunPageType();\n  usePageTags({ title: pageTitle, subtitle: slogan });\n  return (\n    <Row className=\"pt-4 mb-5\">\n      <Col className=\"page-main flex-auto\">\n        <QuestionList\n          source=\"questions\"\n          data={listData}\n          order={curOrder}\n          isLoading={listLoading}\n        />\n      </Col>\n      <Col className=\"page-right-side mt-4 mt-xl-0\">\n        <CustomSidebar />\n        {!loggedUser.username && (\n          <div className=\"card mb-4\">\n            <div className=\"card-body\">\n              <h5 className=\"card-title\">\n                {t2('website_welcome', {\n                  site_name: siteInfo.name,\n                })}\n                {isAssetBun || <sup>AI</sup>}\n              </h5>\n              <p className=\"card-text\">{siteInfo.description}</p>\n              <Link\n                to={userCenter.getLoginUrl()}\n                className=\"btn btn-primary\"\n                onClick={floppyNavigation.handleRouteLinkClick}>\n                {t('login', { keyPrefix: 'btns' })}\n              </Link>\n              {loginSetting.allow_new_registrations ? (\n                <Link\n                  to={userCenter.getSignUpUrl()}\n                  className=\"btn btn-link ms-2\"\n                  onClick={floppyNavigation.handleRouteLinkClick}>\n                  {t('signup', { keyPrefix: 'btns' })}\n                </Link>\n              ) : null}\n            </div>\n          </div>\n        )}\n        {loggedUser.access_token && <FollowingTags />}\n        <HotQuestions />\n      </Col>\n    </Row>\n  );\n};\n\nexport default Questions;\n"],"names":["Questions","t","useTranslation","keyPrefix","t2","user","loggedUser","loggedUserInfoStore","_","urlSearchParams","useSearchParams","curPage","Number","get","storageOrder","Storage","QUESTIONS_ORDER_STORAGE_KEY","curOrder","QUESTION_ORDER_KEYS","set","reqParams","page_size","page","order","order_type","TYPE_ORDER_KEYS","content_type","getUrlQuestionType","data","listData","isLoading","listLoading","useQuestionList","isIndexPage","useMatch","pageTitle","slogan","siteInfo","siteInfoStore","name","short_description","login","loginSetting","loginSettingStore","isAssetBun","isAssetBunPageType","usePageTags","title","subtitle","_jsxs","Row","className","children","_jsx","Col","QuestionList","source","CustomSidebar","username","site_name","description","Link","to","userCenter","onClick","floppyNavigation","handleRouteLinkClick","allow_new_registrations","access_token","FollowingTags","HotQuestions"],"sourceRoot":""}