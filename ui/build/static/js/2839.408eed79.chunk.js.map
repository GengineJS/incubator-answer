{"version":3,"file":"static/js/2839.408eed79.chunk.js","mappings":"iOAsBA,MAAMA,EAAYA,KAEdC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBC,UAC/BC,EAAAA,EAAAA,MAACC,EAAAA,EAAK,CAACC,QAAQ,eAAcH,SAAA,CAAC,8BAE5BF,EAAAA,EAAAA,KAAA,SAAM,gDAOd,GAAeM,EAAAA,EAAAA,MAAKP,E,0KCCpB,MAAMA,EAAmBA,EAAGQ,WAC1B,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,GAAe,cAAe,CAAEC,UAAW,YAClDC,IAAgBC,EAAAA,EAAAA,MACjBC,EAAIF,EAAaG,IAAI,KACrBC,EAAW,OAADF,QAAC,IAADA,OAAC,EAADA,EAAGG,MAAMC,EAAAA,EAAQC,SAC1BC,EAAUC,IAAeC,EAAAA,EAAAA,UAAa,OAAJd,QAAI,IAAJA,OAAI,EAAJA,EAAMe,aAc/C,OACEnB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yDAAwDC,SAAA,EACrEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,OAAMC,SAAEM,EAAE,YAExBR,EAAAA,EAAAA,KAACuB,EAAAA,GAAY,CAACC,KAAK,SAASC,UAAU,qBAExCtB,EAAAA,EAAAA,MAAA,KAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,sBAAqBC,SAAEM,EAAE,cACvC,OAADK,QAAC,IAADA,OAAC,EAADA,EAAGa,QAAQT,EAAAA,EAAQC,OAAQ,KAC5BlB,EAAAA,EAAAA,KAAA,UACQ,OAAPe,QAAO,IAAPA,OAAO,EAAPA,EAASY,UACRxB,EAAAA,EAAAA,MAAAyB,EAAAA,SAAA,CAAA1B,SAAA,EACEC,EAAAA,EAAAA,MAAA,QAAMF,UAAU,iBAAgBC,SAAA,CAAEM,EAAE,WAAW,OACvC,OAAPO,QAAO,IAAPA,OAAO,EAAPA,EAASc,KAAKC,IACN3B,EAAAA,EAAAA,MAAA,QAAAD,SAAA,CAAkB4B,EAAK,MAAZA,YAKrB,OAAJvB,QAAI,IAAJA,OAAI,EAAJA,EAAMkB,aACLtB,EAAAA,EAAAA,MAAAyB,EAAAA,SAAA,CAAA1B,SAAA,CACGK,EAAKwB,UACJ5B,EAAAA,EAAAA,MAAA,KAAGF,UAAU,aAAYC,SAAA,EACtB8B,EAAAA,EAAAA,IAAazB,EAAKwB,UACnB5B,EAAAA,EAAAA,MAAC8B,EAAAA,GAAI,CAAChC,UAAU,OAAOiC,GAAIC,EAAAA,EAAYC,QAAQ7B,EAAKkB,WAAWvB,SAAA,CAAC,IAC5DM,EAAE,QAAQ,WAKlBR,EAAAA,EAAAA,KAACqC,EAAAA,EAAM,CAACC,QAAQ,kBAAkBC,QA3C3BC,MACRC,EAAAA,EAAAA,kBAAgB,KAGrBC,EAAAA,EAAAA,IAAU,CACRC,UAAe,OAAJpC,QAAI,IAAJA,OAAI,EAAJA,EAAMqC,OACjBC,UAAW1B,IACV2B,MAAMC,IACP3B,EAAY2B,EAAIC,YAAY,GAC5B,EAkCsD9C,SACpCM,EAAXW,EAAa,YAAiB,iBAIjC,EAIV,GAAeb,EAAAA,EAAAA,MAAKP,E,oFCpEpB,MAAMA,EAAmBA,EAAGkD,QAAQ,OAClC,MAAMC,EAAO,IAAIC,MAAMF,GAAOG,KAAK,GAAGvB,KAAI,CAACwB,EAAGC,IAAMD,EAAIC,IACxD,OACEtD,EAAAA,EAAAA,KAAA4B,EAAAA,SAAA,CAAA1B,SACGgD,EAAKrB,KAAKwB,IACTlD,EAAAA,EAAAA,MAACoD,EAAAA,EAAa,CACZtD,UAAU,wEAAuEC,SAAA,EAEjFC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,OACEC,UAAU,mBACVuD,MAAO,CAAEC,OAAQ,OAAQC,MAAO,WAElC1D,EAAAA,EAAAA,KAAA,OACEC,UAAU,2BACVuD,MAAO,CAAEC,OAAQ,cAGrBzD,EAAAA,EAAAA,KAAA,OACEC,UAAU,qCACVuD,MAAO,CAAEC,OAAQ,WAGnBzD,EAAAA,EAAAA,KAAA,OACEC,UAAU,2CACVuD,MAAO,CAAEC,OAAQ,WAGnBzD,EAAAA,EAAAA,KAAA,OACEC,UAAU,6BACVuD,MAAO,CAAEC,OAAQ,YAvBdJ,MA2BR,EAIP,GAAe/C,EAAAA,EAAAA,MAAKP,E,+FCxCpB,MAAM4D,EAAW,CAAC,SAAU,SAAU,YAAa,SAM7C5D,EAAmBA,EAAG6D,OAAMX,QAAQ,MACxC,MAAM,EAAEzC,IAAMC,EAAAA,EAAAA,GAAe,cAAe,CAC1CC,UAAW,qBAGb,OACEP,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wEAAuEC,SAAA,EACpFF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,OAAMC,SAAEM,EAAE,SAAU,CAAEyC,QAAOvC,UAAW,cACtDV,EAAAA,EAAAA,KAAC6D,EAAAA,GAAU,CACTtD,KAAMoD,EACNG,YAAaF,EACbG,QAAQ,QACRC,cAAc,uBAEZ,EAIV,GAAe1D,EAAAA,EAAAA,MAAKP,E,4MCLpB,MAAMA,EAAmBA,EAAGQ,WAAY,IAAD0D,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACrC,MAAM,EAAEpE,IAAMC,EAAAA,EAAAA,GAAe,cAAe,CAAEC,UAAW,aACzD,GAAS,OAAJH,QAAI,IAAJA,IAAAA,EAAMsE,YACT,OAAO,KAET,IAAIC,EAAU3C,EAAAA,EAAY4C,gBACxBxE,EAAKyE,OAAOC,GACZ1E,EAAKyE,OAAOE,UACZ3E,EAAKyE,OAAOG,cAEW,WAArB5E,EAAKsE,aAA4BtE,EAAKyE,OAAOI,cAC/CN,EAAU3C,EAAAA,EAAYkD,cACpB,CACEC,WAAY/E,EAAKyE,OAAOI,YACxBG,UAAWhF,EAAKyE,OAAOE,UACvBM,SAAUjF,EAAKyE,OAAOC,IAExB1E,EAAKyE,OAAOG,eAIhB,MAAOxE,IAAgBC,EAAAA,EAAAA,MACjBC,EAAIF,EAAaG,IAAI,KACrB2E,GAAWC,EAAAA,EAAAA,MACXC,GACH,OAAD9E,QAAC,IAADA,GAC+B,QAD9BoD,EAADpD,EACIa,QAAQT,EAAAA,EAAQC,OAAQ,WAAG,IAAA+C,GACjB,QADiBC,EAD/BD,EAEI2B,MAAM,YAAI,IAAA1B,OAFb,EAADA,EAGI2B,QAAQxC,GAAY,KAANA,MAAa,GAC3ByC,GAAOC,EAAAA,EAAAA,KAAqBC,GAAUA,EAAMF,OAClD,OACE3F,EAAAA,EAAAA,MAACoD,EAAAA,EAAa,CAACtD,UAAU,uDAAsDC,SAAA,EAC7EC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,gBAAeC,SAAA,EAC5BF,EAAAA,EAAAA,KAAA,QACEC,UAAU,sCACVuD,MAAO,CAAEyC,UAAW,OAAQ/F,SACN,aAArBK,EAAKsE,YAA6B,IAAM,OAE3C1E,EAAAA,EAAAA,MAAC8B,EAAAA,GAAI,CACHM,QAAU2D,IACRA,EAAMC,kBACNC,EAAAA,EAAAA,GAAmB5F,EAAGiF,EAAUK,EAAMvF,EAAKyE,OAAQF,EAAQ,EAE7D7E,UAAU,+BACViC,GAAG,IAAGhC,SAAA,EACNF,EAAAA,EAAAA,KAACqG,EAAAA,EAAa,CAACC,KAAM/F,EAAKyE,OAAOuB,MAAOZ,SAAUA,KAClD3F,EAAAA,EAAAA,KAACwG,EAAAA,EAAY,CACXC,MAAOlG,EAAKyE,OAAOyB,MACnBjG,EAAGA,EACHkG,YAAanG,EAAKyE,OAAOG,aACzBwB,OACEC,EAAAA,EAAAA,IAAYrG,EAAKyE,OAAQc,KAC8B,IAAvDvF,EAAKyE,OAAO6B,eAAeC,QAAQhB,EAAKb,IAAM,MAG1B,WAAvB1E,EAAKyE,OAAO+B,OACT,KAAKvG,EAAE,SAAU,CAAEE,UAAW,gBAC9B,YAGRP,EAAAA,EAAAA,MAAA,OAAKF,UAAU,gEAA+DC,SAAA,EAC5EF,EAAAA,EAAAA,KAACgH,EAAAA,GAAY,CAACzG,KAAiB,QAAb4D,EAAE5D,EAAKyE,cAAM,IAAAb,OAAA,EAAXA,EAAa8C,UAAWC,YAAY,KAExDlH,EAAAA,EAAAA,KAAA,QAAMC,UAAU,eAChBD,EAAAA,EAAAA,KAACmH,EAAAA,GAAU,CACTC,KAAiB,QAAbhD,EAAE7D,EAAKyE,cAAM,IAAAZ,OAAA,EAAXA,EAAaiD,WACnBpH,UAAU,OACVqH,OAA6B,aAArB/G,EAAKsE,YAA6B,QAAU,cAGtD7E,EAAAA,EAAAA,KAACuH,EAAAA,GAAM,CACLtH,UAAU,eACVuH,WAAW,EACXC,WAAuB,QAAbpD,EAAE9D,EAAKyE,cAAM,IAAAX,OAAA,EAAXA,EAAaqD,SACzBC,YAAkC,aAArBpH,EAAKsE,YAClB+C,cAAyB,QAAXtD,EAAA/D,EAAKyE,cAAM,IAAAV,OAAA,EAAXA,EAAaoD,WAAiC,WAArBnH,EAAKsE,YAC5CtE,KAAM,CACJsH,MAAkB,QAAbtD,EAAEhE,EAAKyE,cAAM,IAAAT,OAAA,EAAXA,EAAauD,WACpBC,QAAoB,QAAbvD,EAAEjE,EAAKyE,cAAM,IAAAR,OAAA,EAAXA,EAAawD,aACtBC,MAAO,EACPxB,MAAkB,QAAbhC,EAAElE,EAAKyE,cAAM,IAAAP,OAAA,EAAXA,EAAagC,aAKd,QAAX/B,EAAAnE,EAAKyE,cAAM,IAAAN,OAAA,EAAXA,EAAa3C,WACZ/B,EAAAA,EAAAA,KAAA,KAAGC,UAAU,+CAA8CC,UACzDF,EAAAA,EAAAA,KAACqG,EAAAA,EAAa,CACZC,MAAMtE,EAAAA,EAAAA,IAAazB,EAAKyE,OAAOjD,UAAY,GAC3C4D,SAAUA,MAKJ,QAFXhB,EAEApE,EAAKyE,cAAM,IAAAL,GAAM,QAANC,EAAXD,EAAauD,YAAI,IAAAtD,OAAN,EAAXA,EAAmB/C,KAAKC,IAChB9B,EAAAA,EAAAA,KAACmI,EAAAA,GAAG,CAAsBlI,UAAU,OAAOM,KAAMuB,GAAvCA,EAAKL,eAEV,EAIpB,GAAenB,EAAAA,EAAAA,MAAKP,E,2GCzHpB,MAAMA,EAAYA,KAChB,MAAM,EAAES,IAAMC,EAAAA,EAAAA,KACd,OACEN,EAAAA,EAAAA,MAACiI,EAAAA,EAAI,CAAAlI,SAAA,EACHF,EAAAA,EAAAA,KAACoI,EAAAA,EAAKC,OAAM,CAAAnI,SAAEM,EAAE,wBAChBL,EAAAA,EAAAA,MAACiI,EAAAA,EAAKE,KAAI,CAACrI,UAAU,sBAAqBC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMC,UACnBF,EAAAA,EAAAA,KAACI,EAAAA,EAAK,CAACC,QAAQ,kBAAkBkI,WAAY,CAAE,GAAGvI,EAAAA,EAAAA,KAAA,iBAEpDA,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMC,UACnBF,EAAAA,EAAAA,KAACI,EAAAA,EAAK,CAACC,QAAQ,mBAAmBkI,WAAY,CAAE,GAAGvI,EAAAA,EAAAA,KAAA,iBAErDA,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMC,UACnBF,EAAAA,EAAAA,KAACI,EAAAA,EAAK,CAACC,QAAQ,qBAAqBkI,WAAY,CAAE,GAAGvI,EAAAA,EAAAA,KAAA,iBAEvDA,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMC,UACnBF,EAAAA,EAAAA,KAACI,EAAAA,EAAK,CAACC,QAAQ,oBAAoBkI,WAAY,CAAE,GAAGvI,EAAAA,EAAAA,KAAA,iBAEtDA,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMC,UACnBF,EAAAA,EAAAA,KAACI,EAAAA,EAAK,CAACC,QAAQ,uBAAuBkI,WAAY,CAAE,GAAGvI,EAAAA,EAAAA,KAAA,iBAEzDA,EAAAA,EAAAA,KAAA,OAAAE,UACEF,EAAAA,EAAAA,KAACI,EAAAA,EAAK,CAACC,QAAQ,wBAAwBkI,WAAY,CAAE,GAAGvI,EAAAA,EAAAA,KAAA,qBAGvD,EAIX,GAAeM,EAAAA,EAAAA,MAAKP,E,maCbpB,MAiGA,EAjGcA,KACZ,MAAM,EAAES,IAAMC,EAAAA,EAAAA,GAAe,gBACtBE,IAAgBC,EAAAA,EAAAA,MACjB4H,EAAO7H,EAAaG,IAAI,SAAW,EACnCD,EAAIF,EAAaG,IAAI,MAAQ,GAC7B2H,EAAQ9H,EAAaG,IAAI,UAAY,UACpC4H,EAAWC,IAAgBtH,EAAAA,EAAAA,WAAS,IACrC,eAAEuH,IAAmBC,EAAAA,EAAAA,IAAmBH,IACvCnI,EAAMuI,IAAWzH,EAAAA,EAAAA,UAAoB,CAC1C4B,MAAO,EACPC,KAAM,GACN6F,MAAO,QAEH,MAAE9F,EAAQ,EAAC,KAAEC,EAAO,GAAE,MAAE6F,EAAQ,MAASxI,GAAQ,CAAC,EAElDyI,GAAgBC,EAAAA,EAAAA,IAAiB,UAEjCC,EAAWA,KACfP,GAAa,GACb,MAAMQ,EAAuB,CAC3BtI,IACA4H,QACAD,KAAMY,OAAOZ,GACba,KAAM,IAGFC,EAAuB,OAAbN,QAAa,IAAbA,OAAa,EAAbA,EAAeO,aACpB,OAAPD,QAAO,IAAPA,GAAAA,EAASE,SACXL,EAAOM,WAAaH,EAAQG,WAC5BN,EAAOO,aAAeJ,EAAQI,eAGhCC,EAAAA,EAAAA,IAAgBR,GACbrG,MAAK8G,gBACe,OAAbZ,QAAa,IAAbA,OAAa,EAAbA,EAAea,SACrBf,EAAQgB,EAAK,IAEdC,OAAOC,IACFA,EAAIC,UACO,OAAbjB,QAAa,IAAbA,GAAAA,EAAekB,mBAAmBF,EAAI9G,MACxC,IAEDiH,SAAQ,KACPxB,GAAa,EAAM,GACnB,GAGNyB,EAAAA,EAAAA,YAAU,KACHpB,EAILA,EAAcqB,OAAM,KAClBnB,GAAU,IAJVA,GAKA,GACD,CAACrI,EAAG4H,EAAOD,IAEd,IAAI8B,EAAY9J,EAAE,SAAU,CAAEE,UAAW,eAQzC,OAPIG,IACFyJ,EAAY,GAAG9J,EAAE,mBAAoB,CAAEE,UAAW,mBAAoBG,OAExE0J,EAAAA,EAAAA,IAAY,CACVhE,MAAO+D,KAIPnK,EAAAA,EAAAA,MAACqK,EAAAA,EAAG,CAACvK,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,MAACsK,EAAAA,EAAG,CAACxK,UAAU,sBAAqBC,SAAA,EAClCF,EAAAA,EAAAA,KAAC0K,EAAAA,KAAI,CAACnK,KAAMwI,KACZ/I,EAAAA,EAAAA,KAAC2K,EAAAA,WAAU,CAAC/G,KAAM6E,EAAOxF,MAAOA,KAChCjD,EAAAA,EAAAA,KAAC4K,EAAAA,EAAS,CAAC3K,UAAU,iBAAgBC,SAClC0I,GACC5I,EAAAA,EAAAA,KAAC6K,EAAAA,WAAU,IAEP,OAAJ3H,QAAI,IAAJA,OAAI,EAAJA,EAAMrB,KAAKC,IACF9B,EAAAA,EAAAA,KAAC8K,EAAAA,WAAU,CAAsBvK,KAAMuB,GAAtBA,EAAKkD,OAAOC,SAKxCyD,KAAkB,OAAJxF,QAAI,IAAJA,GAAAA,EAAMvB,UAAU3B,EAAAA,EAAAA,KAAC+K,EAAAA,MAAK,KAEtC/K,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gCAA+BC,UAC5CF,EAAAA,EAAAA,KAACgL,EAAAA,GAAU,CACTC,YAAa7B,OAAOZ,GACpB0C,SAAU,GACVC,UAAWlI,UAIjBjD,EAAAA,EAAAA,KAACyK,EAAAA,EAAG,CAACxK,UAAU,+BAA8BC,UAC3CF,EAAAA,EAAAA,KAACoL,EAAAA,KAAI,QAEH,C","sources":["pages/Search/components/Empty/index.tsx","pages/Search/components/Head/index.tsx","pages/Search/components/ListLoader/index.tsx","pages/Search/components/SearchHead/index.tsx","pages/Search/components/SearchItem/index.tsx","pages/Search/components/Tips/index.tsx","pages/Search/index.tsx"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC } from 'react';\nimport { Trans } from 'react-i18next';\n\nconst Index: FC = () => {\n  return (\n    <div className=\"mt-5 text-center\">\n      <Trans i18nKey=\"search.empty\">\n        We couldn't find anything.\n        <br />\n        Try different or less specific keywords.\n      </Trans>\n    </div>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC, useState } from 'react';\nimport { useSearchParams, Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\n\nimport { following } from '@/services';\nimport { tryNormalLogged } from '@/utils/guard';\nimport { escapeRemove } from '@/utils';\nimport { pathFactory } from '@/router/pathFactory';\nimport { PluginRender } from '@/components';\nimport Pattern from '@/common/pattern';\n\ninterface Props {\n  data;\n}\n\nconst Index: FC<Props> = ({ data }) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'search' });\n  const [searchParams] = useSearchParams();\n  const q = searchParams.get('q');\n  const options = q?.match(Pattern.search);\n  const [followed, setFollowed] = useState(data?.is_follower);\n\n  const follow = () => {\n    if (!tryNormalLogged(true)) {\n      return;\n    }\n    following({\n      object_id: data?.tag_id,\n      is_cancel: followed,\n    }).then((res) => {\n      setFollowed(res.is_followed);\n    });\n  };\n\n  return (\n    <div className=\"mb-5\">\n      <div className=\"mb-3 d-flex align-items-center justify-content-between\">\n        <h3 className=\"mb-0\">{t('title')}</h3>\n\n        <PluginRender type=\"search\" slug_name=\"serarch_info\" />\n      </div>\n      <p>\n        <span className=\"text-secondary me-1\">{t('keywords')}</span>\n        {q?.replace(Pattern.search, '')}\n        <br />\n        {options?.length && (\n          <>\n            <span className=\"text-secondary\">{t('options')} </span>\n            {options?.map((item) => {\n              return <code key={item}>{item} </code>;\n            })}\n          </>\n        )}\n      </p>\n      {data?.slug_name && (\n        <>\n          {data.excerpt && (\n            <p className=\"text-break\">\n              {escapeRemove(data.excerpt)}\n              <Link className=\"ms-1\" to={pathFactory.tagInfo(data.slug_name)}>\n                [{t('more')}]\n              </Link>\n            </p>\n          )}\n\n          <Button variant=\"outline-primary\" onClick={follow}>\n            {followed ? t('following') : t('follow')}\n          </Button>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC, memo } from 'react';\nimport { ListGroupItem } from 'react-bootstrap';\n\ninterface Props {\n  count?: number;\n}\n\nconst Index: FC<Props> = ({ count = 10 }) => {\n  const list = new Array(count).fill(0).map((v, i) => v + i);\n  return (\n    <>\n      {list.map((v) => (\n        <ListGroupItem\n          className=\"py-3 px-0 border-start-0 border-end-0 bg-transparent placeholder-glow\"\n          key={v}>\n          <div className=\"mb-2\">\n            <div\n              className=\"placeholder me-2\"\n              style={{ height: '25px', width: '30px' }}\n            />\n            <div\n              className=\"h5 mb-0 w-75 placeholder\"\n              style={{ height: '25px' }}\n            />\n          </div>\n          <div\n            className=\"placeholder w-50 h5 align-top mb-2\"\n            style={{ height: '21px' }}\n          />\n\n          <div\n            className=\"placeholder w-100 d-block align-top mb-2\"\n            style={{ height: '42px' }}\n          />\n\n          <div\n            className=\"placeholder w-25 align-top\"\n            style={{ height: '24px' }}\n          />\n        </ListGroupItem>\n      ))}\n    </>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { FC, memo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { QueryGroup } from '@/components';\n\nconst sortBtns = ['active', 'newest', 'relevance', 'score'];\n\ninterface Props {\n  count: number;\n  sort: string;\n}\nconst Index: FC<Props> = ({ sort, count = 0 }) => {\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'search.sort_btns',\n  });\n\n  return (\n    <div className=\"d-flex flex-wrap align-items-center justify-content-between pt-2 pb-3\">\n      <h5 className=\"mb-0\">{t('counts', { count, keyPrefix: 'search' })}</h5>\n      <QueryGroup\n        data={sortBtns}\n        currentSort={sort}\n        sortKey=\"order\"\n        i18nKeyPrefix=\"search.sort_btns\"\n      />\n    </div>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { memo, FC } from 'react';\nimport { Link, useNavigate, useSearchParams } from 'react-router-dom';\nimport { ListGroupItem } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\n\nimport { pathFactory } from '@/router/pathFactory';\nimport {\n  Tag,\n  FormatTime,\n  BaseUserCard,\n  Counts,\n  HighlightText,\n} from '@/components';\nimport Pattern from '@/common/pattern';\nimport type { SearchResItem } from '@/common/interface';\nimport { escapeRemove } from '@/utils';\nimport { isModerator } from '@/common/constants';\nimport IntegralLink from '@/components/IntegralLink';\nimport { loggedUserInfoStore } from '@/stores';\nimport handleOpenPayScore from '@/components/Pay';\n\ninterface Props {\n  data: SearchResItem;\n}\nconst Index: FC<Props> = ({ data }) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'question' });\n  if (!data?.object_type) {\n    return null;\n  }\n  let itemUrl = pathFactory.questionLanding(\n    data.object.id,\n    data.object.url_title,\n    data.object.content_type,\n  );\n  if (data.object_type === 'answer' && data.object.question_id) {\n    itemUrl = pathFactory.answerLanding(\n      {\n        questionId: data.object.question_id,\n        slugTitle: data.object.url_title,\n        answerId: data.object.id,\n      },\n      data.object.content_type,\n    );\n  }\n\n  const [searchParams] = useSearchParams();\n  const q = searchParams.get('q');\n  const navigate = useNavigate();\n  const keywords =\n    q\n      ?.replace(Pattern.search, '')\n      ?.split(' ')\n      ?.filter((v) => v !== '') || [];\n  const user = loggedUserInfoStore((state) => state.user);\n  return (\n    <ListGroupItem className=\"py-3 px-0 border-start-0 border-end-0 bg-transparent\">\n      <div className=\"mb-2 clearfix\">\n        <span\n          className=\"float-start me-2 badge text-bg-dark\"\n          style={{ marginTop: '2px' }}>\n          {data.object_type === 'question' ? 'Q' : 'A'}\n        </span>\n        <Link\n          onClick={(event) => {\n            event.preventDefault();\n            handleOpenPayScore(t, navigate, user, data.object, itemUrl);\n          }}\n          className=\"h5 mb-0 link-dark text-break\"\n          to=\".\">\n          <HighlightText text={data.object.title} keywords={keywords} />\n          <IntegralLink\n            score={data.object.score}\n            t={t}\n            contentType={data.object.content_type}\n            isPay={\n              isModerator(data.object, user) ||\n              data.object.buyer_user_ids.indexOf(user.id || '') !== -1\n            }\n          />\n          {data.object.status === 'closed'\n            ? ` [${t('closed', { keyPrefix: 'question' })}]`\n            : null}\n        </Link>\n      </div>\n      <div className=\"d-flex flex-wrap align-items-center small text-secondary mb-2\">\n        <BaseUserCard data={data.object?.user_info} showAvatar={false} />\n\n        <span className=\"split-dot\" />\n        <FormatTime\n          time={data.object?.created_at}\n          className=\"me-3\"\n          preFix={data.object_type === 'question' ? 'asked' : 'answered'}\n        />\n\n        <Counts\n          className=\"my-2 my-sm-0\"\n          showViews={false}\n          isAccepted={data.object?.accepted}\n          showAnswers={data.object_type === 'question'}\n          showAccepted={data.object?.accepted && data.object_type === 'answer'}\n          data={{\n            votes: data.object?.vote_count,\n            answers: data.object?.answer_count,\n            views: 0,\n            score: data.object?.score,\n          }}\n        />\n      </div>\n\n      {data.object?.excerpt && (\n        <p className=\"small text-truncate-2 mb-2 last-p text-break\">\n          <HighlightText\n            text={escapeRemove(data.object.excerpt) || ''}\n            keywords={keywords}\n          />\n        </p>\n      )}\n\n      {data.object?.tags?.map((item) => {\n        return <Tag key={item.slug_name} className=\"me-1\" data={item} />;\n      })}\n    </ListGroupItem>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { memo, FC } from 'react';\nimport { Card } from 'react-bootstrap';\nimport { useTranslation, Trans } from 'react-i18next';\n\nconst Index: FC = () => {\n  const { t } = useTranslation();\n  return (\n    <Card>\n      <Card.Header>{t('search.tips.title')}</Card.Header>\n      <Card.Body className=\"small ext-secondary\">\n        <div className=\"mb-1\">\n          <Trans i18nKey=\"search.tips.tag\" components={{ 1: <code /> }} />\n        </div>\n        <div className=\"mb-1\">\n          <Trans i18nKey=\"search.tips.user\" components={{ 1: <code /> }} />\n        </div>\n        <div className=\"mb-1\">\n          <Trans i18nKey=\"search.tips.answer\" components={{ 1: <code /> }} />\n        </div>\n        <div className=\"mb-1\">\n          <Trans i18nKey=\"search.tips.score\" components={{ 1: <code /> }} />\n        </div>\n        <div className=\"mb-1\">\n          <Trans i18nKey=\"search.tips.question\" components={{ 1: <code /> }} />\n        </div>\n        <div>\n          <Trans i18nKey=\"search.tips.is_answer\" components={{ 1: <code /> }} />\n        </div>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default memo(Index);\n","/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { Row, Col, ListGroup } from 'react-bootstrap';\nimport { useTranslation } from 'react-i18next';\nimport { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\n\nimport { usePageTags, useSkeletonControl } from '@/hooks';\nimport { useCaptchaPlugin } from '@/utils/pluginKit';\nimport { Pagination } from '@/components';\nimport { getSearchResult } from '@/services';\nimport type { SearchParams, SearchRes } from '@/common/interface';\n\nimport {\n  Head,\n  SearchHead,\n  SearchItem,\n  Tips,\n  Empty,\n  ListLoader,\n} from './components';\n\nconst Index = () => {\n  const { t } = useTranslation('translation');\n  const [searchParams] = useSearchParams();\n  const page = searchParams.get('page') || 1;\n  const q = searchParams.get('q') || '';\n  const order = searchParams.get('order') || 'active';\n  const [isLoading, setIsLoading] = useState(false);\n  const { isSkeletonShow } = useSkeletonControl(isLoading);\n  const [data, setData] = useState<SearchRes>({\n    count: 0,\n    list: [],\n    extra: null,\n  });\n  const { count = 0, list = [], extra = null } = data || {};\n\n  const searchCaptcha = useCaptchaPlugin('search');\n\n  const doSearch = () => {\n    setIsLoading(true);\n    const params: SearchParams = {\n      q,\n      order,\n      page: Number(page),\n      size: 20,\n    };\n\n    const captcha = searchCaptcha?.getCaptcha();\n    if (captcha?.verify) {\n      params.captcha_id = captcha.captcha_id;\n      params.captcha_code = captcha.captcha_code;\n    }\n\n    getSearchResult(params)\n      .then(async (resp) => {\n        await searchCaptcha?.close();\n        setData(resp);\n      })\n      .catch((err) => {\n        if (err.isError) {\n          searchCaptcha?.handleCaptchaError(err.list);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    if (!searchCaptcha) {\n      doSearch();\n      return;\n    }\n    searchCaptcha.check(() => {\n      doSearch();\n    });\n  }, [q, order, page]);\n\n  let pageTitle = t('search', { keyPrefix: 'page_title' });\n  if (q) {\n    pageTitle = `${t('posts_containing', { keyPrefix: 'page_title' })} '${q}'`;\n  }\n  usePageTags({\n    title: pageTitle,\n  });\n\n  return (\n    <Row className=\"pt-4 mb-5\">\n      <Col className=\"page-main flex-auto\">\n        <Head data={extra} />\n        <SearchHead sort={order} count={count} />\n        <ListGroup className=\"rounded-0 mb-5\">\n          {isSkeletonShow ? (\n            <ListLoader />\n          ) : (\n            list?.map((item) => {\n              return <SearchItem key={item.object.id} data={item} />;\n            })\n          )}\n        </ListGroup>\n\n        {!isLoading && !list?.length && <Empty />}\n\n        <div className=\"d-flex justify-content-center\">\n          <Pagination\n            currentPage={Number(page)}\n            pageSize={20}\n            totalSize={count}\n          />\n        </div>\n      </Col>\n      <Col className=\"page-right-side mt-4 mt-xl-0\">\n        <Tips />\n      </Col>\n    </Row>\n  );\n};\n\nexport default Index;\n"],"names":["Index","_jsx","className","children","_jsxs","Trans","i18nKey","memo","data","t","useTranslation","keyPrefix","searchParams","useSearchParams","q","get","options","match","Pattern","search","followed","setFollowed","useState","is_follower","PluginRender","type","slug_name","replace","length","_Fragment","map","item","excerpt","escapeRemove","Link","to","pathFactory","tagInfo","Button","variant","onClick","follow","tryNormalLogged","following","object_id","tag_id","is_cancel","then","res","is_followed","count","list","Array","fill","v","i","ListGroupItem","style","height","width","sortBtns","sort","QueryGroup","currentSort","sortKey","i18nKeyPrefix","_q$replace","_q$replace$split","_data$object","_data$object2","_data$object3","_data$object4","_data$object5","_data$object6","_data$object7","_data$object8","_data$object9","_data$object9$tags","object_type","itemUrl","questionLanding","object","id","url_title","content_type","question_id","answerLanding","questionId","slugTitle","answerId","navigate","useNavigate","keywords","split","filter","user","loggedUserInfoStore","state","marginTop","event","preventDefault","handleOpenPayScore","HighlightText","text","title","IntegralLink","score","contentType","isPay","isModerator","buyer_user_ids","indexOf","status","BaseUserCard","user_info","showAvatar","FormatTime","time","created_at","preFix","Counts","showViews","isAccepted","accepted","showAnswers","showAccepted","votes","vote_count","answers","answer_count","views","tags","Tag","Card","Header","Body","components","page","order","isLoading","setIsLoading","isSkeletonShow","useSkeletonControl","setData","extra","searchCaptcha","useCaptchaPlugin","doSearch","params","Number","size","captcha","getCaptcha","verify","captcha_id","captcha_code","getSearchResult","async","close","resp","catch","err","isError","handleCaptchaError","finally","useEffect","check","pageTitle","usePageTags","Row","Col","Head","SearchHead","ListGroup","ListLoader","SearchItem","Empty","Pagination","currentPage","pageSize","totalSize","Tips"],"sourceRoot":""}